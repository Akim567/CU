## –í–≤–µ–¥–µ–Ω–∏–µ: –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ Java?

–î–æ Java 8 –≤ —è–∑—ã–∫–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ **—Ñ—É–Ω–∫—Ü–∏–π –∫–∞–∫ –æ–±—ä–µ–∫—Ç–æ–≤** ‚Äî —Ç–æ –µ—Å—Ç—å –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–Ω–æ –±—ã–ª–æ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ **–∞–Ω–æ–Ω–∏–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã**, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å –æ–¥–Ω–∏–º –º–µ—Ç–æ–¥–æ–º. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –±—ã–ª –≥—Ä–æ–º–æ–∑–¥–∫–∏–º:

```java
Runnable r = new Runnable() {
    @Override
    public void run() {
        System.out.println("Hello");
    }
};
```

### –ü—Ä–æ–±–ª–µ–º–∞:

–≠—Ç–æ—Ç —Å—Ç–∏–ª—å —Å—Ç—Ä–∞–¥–∞–µ—Ç –æ—Ç:
- **–∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏** –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω–Ω—ã–π –∫–æ–¥. –ù—É–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∏–ø, –∏–º—è –º–µ—Ç–æ–¥–∞, `@Override`, —Ç–µ–ª–æ –º–µ—Ç–æ–¥–∞ –∏ —Ç.–¥.
- **–ø–ª–æ—Ö–æ–π —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏**: –ø–æ—Ä–æ–π —Å–ª–æ–∂–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∞–Ω–æ–Ω–∏–º–Ω–æ–º –∫–ª–∞—Å—Å–µ –∏–∑-–∑–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –≥—Ä–æ–º–æ–∑–¥–∫–æ—Å—Ç–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞.

### –ó–∞—á–µ–º –ø–æ—è–≤–∏–ª–∏—Å—å –ª—è–º–±–¥—ã

–° –≤—ã—Ö–æ–¥–æ–º **Java 8** –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø–æ–∑–≤–æ–ª–∏–ª–∏ –∫–æ–º–ø–∞–∫—Ç–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ "–Ω–∞ –ª–µ—Ç—É", –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–≥–æ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä. –≠—Ç–æ –æ—Ç–∫—Ä—ã–ª–æ –ø—É—Ç—å –∫ **—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º—É —Å—Ç–∏–ª—é –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è** –∏ –Ω–æ–≤—ã–º API (`Stream`, `Optional` –∏ –¥—Ä.), –≥–¥–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, –∫–∞–∫ –æ–±—ä–µ–∫—Ç—ã.

–ü—Ä–∏–º–µ—Ä —Å –ª—è–º–±–¥–æ–π:

```java
Runnable r = () -> System.out.println("Hello");
```

### –ö–ª—é—á–µ–≤—ã–µ —Ü–µ–ª–∏ –ª—è–º–±–¥

- üìå –ü–æ–≤—ã—Å–∏—Ç—å **–≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –º–µ–Ω—å—à–µ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- üìå –°–¥–µ–ª–∞—Ç—å **–ø–µ—Ä–µ–¥–∞—á—É –ø–æ–≤–µ–¥–µ–Ω–∏—è** —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π
- üìå –£–ø—Ä–æ—Å—Ç–∏—Ç—å **—Ä–∞–±–æ—Ç—É —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏**, –ø–æ—Ç–æ–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, —Å–æ–±—ã—Ç–∏—è–º–∏
- üìå –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é —Å –ø–æ–º–æ—â—å—é **—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤** (`Function`, `Predicate`, `Consumer`, –∏ –¥—Ä.)
- üìå –†–∞–∑–≥—Ä—É–∑–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –±–µ–∑ —É—â–µ—Ä–±–∞ –¥–ª—è —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏, –ø—Ä–∏–Ω—è—Ç–æ–π –≤ Java (`@FunctionalInterface` + generics)

---

### –ß—Ç–æ —Ä–∞–∑–±–µ—Ä—ë–º –≤ —ç—Ç–æ–π –ª–µ–∫—Ü–∏–∏

- –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `@FunctionalInterface`
- –ß—Ç–æ —Ç–∞–∫–æ–µ –ª—è–º–±–¥—ã –∏ –≥–¥–µ –∏—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- –ö–∞–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `Function`, `Predicate` –∏ –¥—Ä.
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –º–µ—Ç–æ–¥—ã (method references `::`)
- –ö–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º (`forEach`, `compute`, `merge`, ‚Ä¶)
- –ö–æ–º–ø–∞—Ä–∞—Ç–æ—Ä—ã –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π

## 1. –§—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –æ–±—ä–µ–∫—Ç—ã. –ó–∞—á–µ–º –ª—è–º–±–¥—ã?

### üß± –î–æ Java 8: –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏—è

–î–æ –≤—ã—Ö–æ–¥–∞ Java 8 –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± ¬´–ø–µ—Ä–µ–¥–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ¬ª ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–æ–±—ã—á–Ω–æ —Å –æ–¥–Ω–∏–º –º–µ—Ç–æ–¥–æ–º) –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä ‚Äî –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —á–µ—Ä–µ–∑ **–∞–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∞—Å—Å**.

–í–æ—Ç –ø—Ä–∏–º–µ—Ä –∫–ª–∞—Å—Å–∞, —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ —Å –æ–±—ã—á–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:

```java
class ValueHolder {
    private Value fieldValue;

    void doSmth() {
        Value local = ...;
    }

    Value getValue() {
        return fieldValue;
    }

    void applyValue(Value value) {
        this.fieldValue = value;
    }
}
```

–ó–¥–µ—Å—å –≤—Å—ë –∑–∞–≤—è–∑–∞–Ω–æ –Ω–∞ –¥–∞–Ω–Ω—ã–µ (`Value`). –ü–æ–≤–µ–¥–µ–Ω–∏–µ –∑–∞—à–∏—Ç–æ –≤ –º–µ—Ç–æ–¥—ã –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–æ, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∏–ª–∏ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å–Ω–∞—Ä—É–∂–∏.

---

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ

Java 8 –¥–æ–±–∞–≤–∏–ª–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞—â–∞—Ç—å—Å—è —Å —Ñ—É–Ω–∫—Ü–∏–µ–π –∫–∞–∫ —Å –æ–±—ä–µ–∫—Ç–æ–º: —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –º–µ—Ç–æ–¥—ã, –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–∑ –Ω–∏—Ö. –¢–µ–ø–µ—Ä—å –≤–º–µ—Å—Ç–æ:

```java
ValueHolder vh = ...;
vh.applyValue(someValue);
```

–º—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å:

```java
FunctionHolder fh = ...;
fh.applyFunction(f, someValue);
```

–ü—Ä–∏–º–µ—Ä –∫–ª–∞—Å—Å–∞, –æ–ø–µ—Ä–∏—Ä—É—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏—è–º–∏:

```java
class FunctionHolder {
    private Function fieldFunction;

    void doSmth() {
        Function localFunction = ...;
    }

    Function getFunction() {
        return fieldFunction;
    }

    void applyFunction(Function function, Value value) {
        function.apply(value);
    }
}
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π, –∞ —Å –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–π –∏–∑–≤–Ω–µ: `Function` ‚Äî —ç—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å.

---

### üí° –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ ¬´–ø–æ–ª–Ω–æ–ø—Ä–∞–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã¬ª

–ú—ã –ø—Ä–∏—Ö–æ–¥–∏–º –∫ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ **—Ñ—É–Ω–∫—Ü–∏–π –∫–∞–∫ –ø–æ–ª–Ω–æ–ø—Ä–∞–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤** (–∞–Ω–≥–ª. *first-class citizens*): —Ñ—É–Ω–∫—Ü–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–∞–∫–∏–º –∂–µ —ç–ª–µ–º–µ–Ω—Ç–æ–º —è–∑—ã–∫–∞, –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –æ–±—ä–µ–∫—Ç—ã.  
–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—é –º–æ–∂–Ω–æ:
- –ø—Ä–∏—Å–≤–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π;
- –ø–µ—Ä–µ–¥–∞—Ç—å –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç;
- –≤–µ—Ä–Ω—É—Ç—å –∏–∑ –º–µ—Ç–æ–¥–∞;
- —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–æ–ª–µ.

–≠—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—É—Ç—å –∫:
- –≥–∏–±–∫–∏–º –∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º API
- –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ –±–µ–∑ –∂—ë—Å—Ç–∫–æ–π –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∫–ª–∞—Å—Å–∞–º
- –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ–º—É –∏ –∫—Ä–∞—Ç–∫–æ–º—É –∫–æ–¥—É

---

### üìå –í—ã–≤–æ–¥—ã:

- –í –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º Java-–∫–æ–¥–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–ø–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–º–∏ –∏ –æ–±—ä–µ–∫—Ç–∞–º–∏.
- –ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–ª–∞ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∏ –≥—Ä–æ–º–æ–∑–¥–∫–æ–≥–æ –∫–æ–¥–∞ (–∞–Ω–æ–Ω–∏–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã).
- –° –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ —Ñ—É–Ω–∫—Ü–∏—è–º –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏—è–º —Å—Ç–∞–ª–æ –≤–æ–∑–º–æ–∂–Ω—ã–º –ø–∏—Å–∞—Ç—å –±–æ–ª–µ–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–¥.

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ü–æ—á–µ–º—É –¥–æ Java 8 –Ω–µ–ª—å–∑—è –±—ã–ª–æ —É–¥–æ–±–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ?
2. –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è `ValueHolder`, —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å –¥–∞–Ω–Ω—ã–º–∏, –æ—Ç `FunctionHolder`, –æ–ø–µ—Ä–∏—Ä—É—é—â–µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º?
3. –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏–µ ¬´—Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –ø–æ–ª–Ω–æ–ø—Ä–∞–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã¬ª?
4. –ö–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–∞—ë—Ç –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞?
</details>

## 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@FunctionalInterface`

### üìå –ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å?

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π **—Ä–æ–≤–Ω–æ –æ–¥–∏–Ω –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥**. –¢–∞–∫–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é **–ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è**, –∞ –∑–Ω–∞—á–∏—Ç ‚Äî –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –∫–æ–¥–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∞ –Ω–µ –æ–±—ä–µ–∫—Ç—ã.

–í –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–µ –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—É **SAM** ‚Äî *Single Abstract Method*, —ç—Ç–æ –∏ –µ—Å—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. 

–ü—Ä–∏–º–µ—Ä:

```java
@FunctionalInterface
public interface FIExample {
    int apply(Object argument);
}
```

–¢–∞–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã ‚Äî –æ—Å–Ω–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Java. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–ø–∏—Å—ã–≤–∞—Ç—å **—Ç–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏** –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ.

---

### ‚úÖ –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@FunctionalInterface`

–≠—Ç–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è:
- **–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞**, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è;
- **–ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º**: –µ—Å–ª–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞, –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏;
- –ø–æ–º–æ–≥–∞–µ—Ç —è–≤–Ω–æ –æ–±–æ–∑–Ω–∞—á–∏—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ‚Äî –±—ã—Ç—å SAM-—Ç–∏–ø–æ–º.

---

### üõ† –î–æ–ø—É—Å—Ç–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å:

- –æ–¥–∏–Ω **–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥** (SAM),
- –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ **default-–º–µ—Ç–æ–¥–æ–≤**,
- –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ **static-–º–µ—Ç–æ–¥–æ–≤**,
- –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ `Object` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `equals()`).

–ü—Ä–∏–º–µ—Ä –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

```java
@FunctionalInterface
public interface FIExample<T, R> {
    R apply(T t);

    default R defaultMethod() {
        // ...
    }

    static <V> V staticMethod() {
        // ...
    }

    @Override
    boolean equals(Object obj); // –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è SAM-–º–µ—Ç–æ–¥–æ–º
}
```

> üîπ –ú–µ—Ç–æ–¥ `equals()` –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–æ –æ–¥–Ω–æ–≥–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω –æ—Ç `Object` –∏ **–Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è** –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ SAM.

---

### ‚ùå –û—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É, –µ—Å–ª–∏:

- –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è —Å—Ç–æ–∏—Ç **–Ω–∞ enum –∏–ª–∏ abstract class**;
- –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ **–±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞**, –Ω–µ —Å—á–∏—Ç–∞—è –º–µ—Ç–æ–¥–æ–≤ `Object`.

–ü—Ä–∏–º–µ—Ä—ã —Å –æ—à–∏–±–∫–∞–º–∏:

```java
@FunctionalInterface
public enum FI { // ‚ùå –û—à–∏–±–∫–∞ ‚Äî enum, –∞ –Ω–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    long apply(int t);
}
```

```java
@FunctionalInterface
public abstract class FI { // ‚ùå –û—à–∏–±–∫–∞ ‚Äî abstract class
    long apply(int t);
}
```

```java
@FunctionalInterface
public interface Broken {
    void a();
    void b(); // ‚ùå –û—à–∏–±–∫–∞ ‚Äî –¥–≤–∞ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –º–µ—Ç–æ–¥–∞
}
```

---

### üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ generics

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å **–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏**:

```java
@FunctionalInterface
public interface Converter<T, R> {
    R convert(T input);
}
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±–æ–±—â—ë–Ω–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è:

```java
Converter<String, Integer> toInt = s -> Integer.parseInt(s);
int result = toInt.convert("123"); // 123
```

---

### üìå –í—ã–≤–æ–¥—ã:

| –ú–æ–∂–Ω–æ                  | –ù–µ–ª—å–∑—è                            |
|------------------------|------------------------------------|
| –æ–¥–∏–Ω –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ | –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞  |
| default-–º–µ—Ç–æ–¥—ã         | -                                  |
| static-–º–µ—Ç–æ–¥—ã          | -                                  |
| –º–µ—Ç–æ–¥—ã `Object`        | -                                  |
| generics               | -                                  |

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ß—Ç–æ —Ç–∞–∫–æ–µ SAM-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?
2. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@FunctionalInterface`? –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ –µ—ë –Ω–µ –ø–æ—Å—Ç–∞–≤–∏—Ç—å?
3. –ö–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º–∏ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ?
4. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –±—É–¥–µ—Ç –¥–≤–∞ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –º–µ—Ç–æ–¥–∞ –∏ –ø—Ä–∏ —ç—Ç–æ–º —Å—Ç–æ–∏—Ç `@FunctionalInterface`?
5. –ú–æ–≥—É—Ç –ª–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –±—ã—Ç—å `default` –∏ `static` –º–µ—Ç–æ–¥—ã?
</details>

## 3. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

–° Java 8 –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Å—è—Ç–∫–∏ –≥–æ—Ç–æ–≤—ã—Ö **—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤**, —á—Ç–æ–±—ã –±—ã–ª–æ —É–¥–æ–±–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –º–µ—Ç–æ–¥—ã, —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Stream API. –í—Å–µ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–∫–µ—Ç–µ [`java.util.function`](https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html).
–≠—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å API —Å –ø–æ–º–æ—â—å—é —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤: `forEach`, `map`, `filter`, `reduce`, `compute`, –∏ –¥—Ä. (–∏—Ö —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–∞–ª–µ–µ).

---

### –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

| –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å                 | –ê—Ä–≥—É–º–µ–Ω—Ç     | –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ                                             |
|---------------------------|--------------|------------------------|--------------------------------------------------------|
| `Function<T, R>`          | `T`          | `R`                    | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ (`map`, `transform`)                    |
| `Consumer<T>`             | `T`          | `void`                 | –î–µ–π—Å—Ç–≤–∏–µ –±–µ–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (`forEach`, `log`) |
| `Supplier<T>`             | ‚Äî            | `T`                    | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π (`get`, `random`)                   |
| `Predicate<T>`            | `T`          | `boolean`              | –õ–æ–≥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (`filter`)                         |
| `Comparator<T>` | `T, T`       | `int` (`<=>`)          | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (`sort`, `min`, `max`)                      |
| `Runnable`      | ‚Äî            | `void`                 | –ó–∞–ø—É—Å–∫ –∫–æ–¥–∞ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤                             |

–ü—Ä–∏–º–µ—Ä—ã:

```java
Function<String, Integer> lengthFn = s -> s.length();
Predicate<Integer> isEven = x -> x % 2 == 0;
Consumer<String> printer = s -> System.out.println("Hi, " + s);
Supplier<Double> random = () -> Math.random();
```

---

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç **–¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞**: `Bi*`


| –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å               | –ê—Ä–≥—É–º–µ–Ω—Ç—ã         | –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
|-------------------------|------------------|------------------------|
| `BiFunction<T, U, R>`   | `T`, `U`         | `R`                    |
| `BiConsumer<T, U>`      | `T`, `U`         | `void`                 |
| `BinaryOperator<T>`     | `T`, `T`         | `T`                    |

–ü—Ä–∏–º–µ—Ä:

```java
BiFunction<Integer, Integer, Integer> sum = (x, y) -> x + y;
BinaryOperator<String> concat = (a, b) -> a + b;
BiConsumer<String, Integer> put = (key, value) -> map.put(key, value);
```

> `BinaryOperator<T>` ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ `BiFunction<T, T, T>`, —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–≤—ë—Ä—Ç–æ–∫ (`reduce`).

---

### üî¢ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∞–≤—Ç–æ—É–ø–∞–∫–æ–≤–∫–∏ (`Integer`, `Double` –∏ —Ç.–¥.), —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤–µ—Ä—Å–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å **–ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏**:

| –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å                  | –ü—Ä–∏–º–∏—Ç–∏–≤ | –ú–µ—Ç–æ–¥                    |
|----------------------------|----------|--------------------------|
| `ToIntFunction<T>`         | int      | `int applyAsInt(T t)`    |
| `IntSupplier`              | int      | `int getAsInt()`         |
| `LongSupplier`             | long     | `long getAsLong()`       |

–ü—Ä–∏–º–µ—Ä:

```java
ToIntFunction<String> lengthFn = s -> s.length();
IntSupplier diceRoll = () -> 1 + (int)(Math.random() * 6);
```

> –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–µ–≥–æ boxing/unboxing, —á—Ç–æ –≤–∞–∂–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –æ–±—ä—ë–º–µ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Stream API).

---

### üìå –°–æ–≤–º–µ—â–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

–ò–Ω–æ–≥–¥–∞ –ø–æ–ª–µ–∑–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, `IntSupplier` –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞ –±–∞–∑–µ `LongSupplier`:

```java
@FunctionalInterface
public interface IntSupplier extends LongSupplier {
    int getAsInt();

    @Override
    default long getAsLong() {
        return getAsInt(); // widening conversion: int ‚Üí long
    }
}
```

–ö–æ–¥ **–≤–∞–ª–∏–¥–µ–Ω** –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –∏ `int`, –∏ `long` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –æ–¥–Ω–æ–º —Ç–∏–ø–µ. –ì–ª–∞–≤–Ω–æ–µ, —á—Ç–æ–±—ã `default`-–º–µ—Ç–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–ª –≤—ã–∑–æ–≤.

> –í JDK `IntSupplier` –ù–ï –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `LongSupplier`. –ó–¥–µ—Å—å –ø–æ–∫–∞–∑–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π –ø—Ä–∏—ë–º —Å `default`-–º–µ—Ç–æ–¥–æ–º, –æ—Å—Ç–∞–≤–ª—è—é—â–∏–º –æ–¥–∏–Ω –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥.

---

### üìå –í—ã–≤–æ–¥—ã:

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–∑ `java.util.function` –ø–æ–∑–≤–æ–ª—è—é—Ç:
- –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ (—Ñ—É–Ω–∫—Ü–∏–∏) –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏—è;
- –ø–∏—Å–∞—Ç—å –∫—Ä–∞—Ç–∫–∏–π, –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ —á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥.

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ß–µ–º `Function<T, R>` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `Consumer<T>` –∏ `Supplier<T>`?
2. –ö–∞–∫–æ–π —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Predicate<T>` –∏ –≤ –∫–∞–∫–∏—Ö –∑–∞–¥–∞—á–∞—Ö –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?
3. –ü–æ—á–µ–º—É –ø–æ–Ω–∞–¥–æ–±–∏–ª–∏—Å—å –≤–µ—Ä—Å–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ —Å –ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏ (`ToIntFunction`, `IntSupplier`)?
4. –í —á—ë–º —Ä–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É `BiFunction<T, U, R>` –∏ `BinaryOperator<T>`?
5. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç default-–º–µ—Ç–æ–¥ –≤ –ø—Ä–∏–º–µ—Ä–µ —Å `IntSupplier extends LongSupplier` –∏ –ø–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?
</details>

## 4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: 3 –ø–æ–¥—Ö–æ–¥–∞

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ Java **—Ç—Ä–µ–º—è —Å–ø–æ—Å–æ–±–∞–º–∏**:

| –ü–æ–¥—Ö–æ–¥             | –°–∏–Ω—Ç–∞–∫—Å–∏—Å                         | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ Java 8 | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å Java 8 |
|--------------------|-----------------------------------|----------------------|---------------------|
| 1. –û—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å | `class MyImpl implements FI {...}` | ‚úÖ                   | ‚úÖ                  |
| 2. –ê–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∞—Å—Å | `new FI() { ... }`                | ‚úÖ                   | ‚úÖ                  |
| 3. –õ—è–º–±–¥–∞          | `(args) -> expr`                  | ‚ùå                   | ‚úÖ                  |

---

### üß± 1. –û—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å (explicit implementation)

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

```java
public class SumOperator implements BinaryOperator<Integer> {
    @Override
    public Integer apply(Integer x, Integer y) {
        return x + y;
    }
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```java
BinaryOperator<Integer> sum = new SumOperator();
int result = sum.apply(10, 20); // 30
```

‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –≤–ø–æ–ª–Ω–µ —á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥
- –º–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- —É–¥–æ–±–Ω–æ –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
- –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- —à–∞–±–ª–æ–Ω–Ω—ã–π –∏ –≥—Ä–æ–º–æ–∑–¥–∫–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –∏–ª–∏ –∫–ª–∞—Å—Å

---

### üß© 2. –ê–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∞—Å—Å (inline implementation)

–û–±—ä—è–≤–ª—è–µ—Ç—Å—è –ø—Ä—è–º–æ –Ω–∞ –º–µ—Å—Ç–µ, —á–∞—â–µ –≤—Å–µ–≥–æ –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–µ –º–µ—Ç–æ–¥–∞ –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:

```java
BinaryOperator<Integer> sumOperator = new BinaryOperator<Integer>() {
    @Override
    public Integer apply(Integer x, Integer y) {
        return x + y;
    }
};

int result = sumOperator.apply(10, 20); // 30
```

‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –ù–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª;
- –î–æ—Å—Ç—É–ø –∫ final –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –∏–∑ –æ–∫—Ä—É–∂–∞—é—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- –®–∞–±–ª–æ–Ω–Ω—ã–π –∏ –≥—Ä–æ–º–æ–∑–¥–∫–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- –°–ª–∞–±–µ–µ –≤—ã—Ä–∞–∂–µ–Ω–∞ –≤—ã–≤–æ–¥–∏–º–æ—Å—Ç—å —Ç–∏–ø–æ–≤: —á–∞—â–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∏–ø—ã –∏ –ø–æ–ª–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã
- –°–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∞—Å—Å —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º `this`

---

### üß¨ 3. –õ—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ (lambda)

–ù–∞—á–∏–Ω–∞—è —Å Java 8, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ª—è–º–±–¥—ã** ‚Äî –∫—Ä–∞—Ç–∫–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

```java
BinaryOperator<Integer> sum = (Integer x, Integer y) -> {
    return x + y;
};
```

–∏–ª–∏ –µ—â—ë –∫–æ—Ä–æ—á–µ:

```java
BinaryOperator<Integer> sum = (x, y) -> x + y;
```

‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –∫—Ä–∞—Ç–∫–æ—Å—Ç—å;
- —á–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞;
- –ø–æ–¥–¥–µ—Ä–∂–∫–∞ type inference;
- –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ —á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Ñ—É–Ω–∫—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `map`, `filter`, `forEach` –∏ —Ç.–¥.).

‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –º–æ–∂–Ω–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ effectively final –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–∞–ª–µ–µ)
- –Ω–µ–ª—å–∑—è –∑–∞–¥–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–ª—è–º–±–¥–∞ ‚Äî —ç—Ç–æ –Ω–µ –æ–±—ä–µ–∫—Ç —Å –ø–æ–ª—è–º–∏);
- `this` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–Ω–µ—à–Ω–∏–π –æ–±—ä–µ–∫—Ç, –∞ –Ω–µ –Ω–∞ –ª—è–º–±–¥—É.

---

### üìå –í—ã–≤–æ–¥—ã:

| –ü–æ–¥—Ö–æ–¥             | –ö–æ–¥                       | –ò–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π `this` | –ö—Ä–∞—Ç–∫–æ—Å—Ç—å | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ |
|--------------------|---------------------------|----------------------|-----------|------------------------|
| –û—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å    | `class ... implements`     | ‚úÖ                   | ‚ùå         | ‚úÖ                     |
| –ê–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∞—Å—Å    | `new ...() {}`             | ‚úÖ                   | ‚ùå         | ‚úÖ                     |
| –õ—è–º–±–¥–∞             | `(x, y) -> x + y`          | ‚ùå                   | ‚úÖ         | ‚ùå                     |

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ö–∞–∫–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ø–æ—Å–æ–±—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞?
2. –í —á—ë–º –æ—Ç–ª–∏—á–∏–µ `this` –≤ –∞–Ω–æ–Ω–∏–º–Ω–æ–º –∫–ª–∞—Å—Å–µ –∏ –ª—è–º–±–¥–µ?
3. –ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –≤–º–µ—Å—Ç–æ –ª—è–º–±–¥—ã?
4. –ü–æ—á–µ–º—É –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∞—Å—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è –±–æ–ª–µ–µ –≥—Ä–æ–º–æ–∑–¥–∫–∏–º, —á–µ–º –ª—è–º–±–¥–∞?
</details>

## 5. –°–∏–Ω—Ç–∞–∫—Å–∏—Å –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π –∏ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤

–ü–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –ª—è–º–±–¥ –≤ Java —Å—Ç–∞–ª–æ –≤–æ–∑–º–æ–∂–Ω—ã–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –≤–∏–¥–µ **–∫—Ä–∞—Ç–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π**, –∞ –Ω–µ —á–µ—Ä–µ–∑ –≥—Ä–æ–º–æ–∑–¥–∫–∏–µ –∞–Ω–æ–Ω–∏–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π –∏ —á–µ–º –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.

---

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π

–û–±—â–∏–π –≤–∏–¥:

```java
(–ø–∞—Ä–∞–º–µ—Ç—Ä—ã) -> –≤—ã—Ä–∞–∂–µ–Ω–∏–µ_–∏–ª–∏_–±–ª–æ–∫
```

#### –ü—Ä–∏–º–µ—Ä—ã:

```java
// –õ—è–º–±–¥–∞ —Å –±–ª–æ–∫–æ–º –∫–æ–¥–∞
BinaryOperator<Integer> sum = (Integer x, Integer y) -> {
    return x + y;
};

// –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –±–µ–∑ return –∏ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–æ–∫
BinaryOperator<Integer> sum2 = (Integer x, Integer y) -> x + y;

// –ï—â—ë –∫–æ—Ä–æ—á–µ ‚Äî —Å type inference
BinaryOperator<Integer> sum3 = (x, y) -> x + y;
```

---

#### –ë–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:

```java
Supplier<Integer> supplier = () -> 42;
int result = supplier.get(); // 42
```

---

#### –ë–µ–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:

```java
BiConsumer<List<Integer>, Integer> addElement = (list, i) -> list.add(i);
```

---

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–Ω–æ–Ω–∏–º–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–≤—É—Ö –ø–æ–¥—Ö–æ–¥–æ–≤:

```java
// –õ—è–º–±–¥–∞
Supplier<Integer> lambda = () -> 42;

// –ê–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∞—Å—Å
Supplier<Integer> anonymous = new Supplier<Integer>() {
    @Override
    public Integer get() {
        return 42;
    }
};
```

–ù–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥, –æ–±–∞ –¥–µ–ª–∞—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ. –ù–æ —Ä–∞–∑–ª–∏—á–∏—è **–ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω—ã**:

---

### ‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∞—Å—Å vs –ª—è–º–±–¥–∞

| –ê—Å–ø–µ–∫—Ç                 | –õ—è–º–±–¥–∞                                     | –ê–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∞—Å—Å               |
|------------------------|---------------------------------------------|-------------------------------|
| this                   | –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –≤–Ω–µ—à–Ω–µ–º—É –∫–ª–∞—Å—Å—É                 | –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –∞–Ω–æ–Ω–∏–º–Ω–æ–º—É –∫–ª–∞—Å—Å—É |
| —Å–æ—Å—Ç–æ—è–Ω–∏–µ              | –Ω–µ–ª—å–∑—è –∑–∞–¥–∞—Ç—å                               | –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª—è            |
| —Å–∏–Ω—Ç–∞–∫—Å–∏—Å              | –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π                                  | –≥—Ä–æ–º–æ–∑–¥–∫–∏–π                    |
| —Ç–∏–ø                    | –≤—ã–≤–æ–¥–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏                     | –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å     |
| —Å–æ–∑–¥–∞–Ω–∏–µ               | —á–µ—Ä–µ–∑ `LambdaMetaFactory`                   | —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å     |
| –ø–æ–≤–µ–¥–µ–Ω–∏–µ `instanceof` | –Ω–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞                 | —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º —Ç–∏–ø–æ–º      |

---

#### –ü—Ä–∏–º–µ—Ä —Å `this`

```java
public class Demo {
    int outer = 1;

    void run() {
        Supplier<Integer> lambda = () -> this.outer; // this ‚Üí Demo

        Supplier<Integer> anon = new Supplier<>() {
            int outer = 2;
            public Integer get() {
                return this.outer; // this ‚Üí –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∞—Å—Å
            }
        };
    }
}
```

---

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `var` –≤ –ª—è–º–±–¥–µ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

```java
var supplier = () -> 42; // ‚ùå Compile Error: –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ —Ç–∏–ø
```
> –î–ª—è –ª—è–º–±–¥—ã –≤—Å–µ–≥–¥–∞ –Ω—É–∂–µ–Ω ¬´—Ü–µ–ª–µ–≤–æ–π —Ç–∏–ø¬ª (target type) ‚Äî –æ–±—ã—á–Ω–æ —ç—Ç–æ —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –æ–∂–∏–¥–∞—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. `var` —Å–∞–º –ø–æ —Å–µ–±–µ –µ–≥–æ –Ω–µ –∑–∞–¥–∞—ë—Ç
---

### üìå –í—ã–≤–æ–¥—ã:

–õ—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è:
- –∫–æ—Ä–æ—á–µ –∏ —á–∏—Ç–∞–±–µ–ª—å–Ω–µ–µ;
- –Ω–µ —Å–æ–∑–¥–∞—é—Ç –Ω–æ–≤—ã–π —Ç–∏–ø, –∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å;
- –∏—Å–ø–æ–ª—å–∑—É—é—Ç `this` –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª–∞—Å—Å–∞;
- **–Ω–µ —Ö—Ä–∞–Ω—è—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ**, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤.

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ß–µ–º `(x, y) -> x + y` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `(Integer x, Integer y) -> { return x + y; }`?
2. –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—è–º–±–¥—É –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏? –ü–æ—á–µ–º—É?
3. –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç `this` –≤–Ω—É—Ç—Ä–∏ –ª—è–º–±–¥—ã –∏ –∫–∞–∫ —ç—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞?
4. –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –ø–∏—Å–∞—Ç—å `var lambda = () -> 42`?
5. –ö–∞–∫–∏–µ –ø–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã –µ—Å—Ç—å —É –ª—è–º–±–¥ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∞–Ω–æ–Ω–∏–º–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏?
</details>

## 6. –ó–∞—Ö–≤–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö: effectively final

–õ—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ Java –º–æ–≥—É—Ç **–∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å** –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∑–∞–º—ã–∫–∞–Ω–∏—è–º (closures) –≤ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö. –û–¥–Ω–∞–∫–æ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –≤–∞–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: **–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å "effectively final"**.

–†–∞–∑–±–µ—Ä—ë–º, —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, –∫–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å, –∏ –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

### üß† –ß—Ç–æ –∑–Ω–∞—á–∏—Ç "–∑–∞—Ö–≤–∞—Ç"?

–ó–∞—Ö–≤–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –ª—è–º–±–¥–∞ **–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**, –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ—ë —è–≤–Ω–æ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

–ü—Ä–∏–º–µ—Ä:

```java
public static void main(String[] args) {
    int multiplier = 5;
    ToIntFunction<Integer> multiply = x -> x * multiplier;
    int result = multiply.applyAsInt(10); // 50
}
```

> –ó–¥–µ—Å—å `multiplier` **–∑–∞—Ö–≤–∞—á–µ–Ω** –ª—è–º–±–¥–æ–π. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞—Ö–≤–∞—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∫–æ–ø–∏—Ä—É–µ—Ç –µ—ë –∑–Ω–∞—á–µ–Ω–∏–µ (–∞ –Ω–µ —Å–∞–º—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é) –≤ —Å–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –ü–æ—ç—Ç–æ–º—É –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å effectively final: –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞—Ö–≤–∞—Ç–∞.

---

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å effectively final

```java
public static void main(String[] args) {
    int multiplier = 5;
    multiplier = 10; 

    ToIntFunction<Integer> multiply = x -> x * multiplier; // ‚ùå –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
}
```

üìå –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å—á–∏—Ç–∞–µ—Ç—Å—è *effectively final*, –µ—Å–ª–∏:
- –µ–π **–ø—Ä–∏—Å–≤–æ–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–¥–∏–Ω —Ä–∞–∑**,
- –∏ **–æ–Ω–∞ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è** –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º.

–î–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∞ **–Ω–µ –ø–æ–º–µ—á–µ–Ω–∞ `final`**, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å—á–∏—Ç–∞–µ—Ç –µ—ë `final` –ø–æ —Å–º—ã—Å–ª—É –∏ —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –æ–Ω–∞ –Ω–µ –º–µ–Ω—è–ª–∞—Å—å.

---

### ‚úÖ –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?

–ü–æ—Å–∫–æ–ª—å–∫—É –ª—è–º–±–¥—ã **–Ω–µ —Å–æ–∑–¥–∞—é—Ç –∫–æ–ø–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**, –∞ **–∏—Å–ø–æ–ª—å–∑—É—é—Ç –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**, Java –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –±—É–¥—É—Ç –∏–∑–º–µ–Ω–µ–Ω—ã –∏–∑–≤–Ω–µ –≤ –º–æ–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –∏–∑–±–µ–∂–∞—Ç—å –≥–æ–Ω–æ–∫ –∏ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è,
- –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

---

### üì¶ –ß—Ç–æ –º–æ–∂–Ω–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å?

| –¢–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π        | –ú–æ–∂–Ω–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å? | –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ø—É—Å—Ç–∏–º—ã? |
|------------------------|--------------------|------------------------|
| –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è   | ‚úÖ –µ—Å–ª–∏ effectively final | ‚ùå –Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å      |
| –ø–æ–ª–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞        | ‚úÖ                 | ‚úÖ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å        |
| static-–ø–æ–ª–µ            | ‚úÖ                 | ‚úÖ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å        |

---

### üß™ –ü—Ä–∏–º–µ—Ä: static-–ø–æ–ª–µ

```java
public class Main {
    private static int multiplier = 5;

    public static void main(String[] args) {
        ToIntFunction<Integer> multiply = x -> x * multiplier;

        multiplier = 7; // –¥–æ–ø—É—Å—Ç–∏–º–æ
        int result = multiply.applyAsInt(10); // 70
    }
}
```

–ó–∞—Ö–≤–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç: –ª—è–º–±–¥–∞ –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏—Ç —Ç–µ–∫—É—â–µ–µ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–µ `multiplier`.

---

### üß™ –ü—Ä–∏–º–µ—Ä: –ø–æ–ª–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞

```java
class Holder {
    private int value;

    public Holder(int value) {
        this.value = value;
    }

    public int getValue() { return value; }

    public void setValue(int value) {
        this.value = value;
    }
}

Holder holder = new Holder(5);
Supplier<Integer> supplier = () -> holder.getValue();

supplier.get(); // 5

holder.setValue(10);
supplier.get(); // 10
```

üìå –ü–æ–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ **–Ω–µ —Ç—Ä–µ–±—É—é—Ç** –±—ã—Ç—å `final` –∏–ª–∏ `effectively final`, –ø–æ—Ç–æ–º—É —á—Ç–æ –ª—è–º–±–¥–∞ **–∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç, –ø–æ–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**, –∞ –Ω–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

---

### ‚ö†Ô∏è –ß–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞: –ø–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

```java
int sum = 0;
list.forEach(x -> sum += x); // ‚ùå –û—à–∏–±–∫–∞: sum –Ω–µ effectively final
```

–†–µ—à–µ–Ω–∏–µ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `AtomicInteger`, `Stream.reduce()`, –∏–ª–∏ –¥—Ä—É–≥–∏–µ –æ–±—Ö–æ–¥–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

---

### üìå –í—ã–≤–æ–¥—ã:

| –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ–º–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å effectively final? | –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –ø–æ—Å–ª–µ –∑–∞—Ö–≤–∞—Ç–∞? |
|--------------------------|-------------------------------|------------------------------|
| –õ–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è     | ‚úÖ                             | ‚ùå                           |
| –ü–æ–ª–µ –æ–±—ä–µ–∫—Ç–∞             | ‚ùå                             | ‚úÖ                           |
| Static –ø–æ–ª–µ              | ‚ùå                             | ‚úÖ                           |

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç "effectively final" –∏ –∑–∞—á–µ–º —ç—Ç–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –≤ –ª—è–º–±–¥–∞—Ö?
2. –ú–æ–∂–Ω–æ –ª–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è? –ü–æ—á–µ–º—É?
3. –ü–æ—á–µ–º—É –ø–æ–ª—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∏–ª–∏ static-–ø–æ–ª—è –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –¥–∞–∂–µ –ø—Ä–∏ –∑–∞—Ö–≤–∞—Ç–µ?
4. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω—è–µ–º—É—é –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é?
5. –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –∑–∞—Ö–≤–∞—Ç –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ—Ç –∑–∞—Ö–≤–∞—Ç–∞ –ø–æ–ª—è?
</details>

## 7. –°—Å—ã–ª–∫–∏ –Ω–∞ –º–µ—Ç–æ–¥—ã –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã (`::`)

–í–º–µ—Å—Ç–æ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∫—Ä–∞—Ç–∫—É—é –∏ —á–∏—Ç–∞–µ–º—É—é —Ñ–æ—Ä–º—É ‚Äî —Å—Å—ã–ª–∫—É –Ω–∞ –º–µ—Ç–æ–¥ (**method reference**). –≠—Ç–æ –æ—Å–æ–±—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Å–æ—Å–ª–∞—Ç—å—Å—è –Ω–∞ **—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ –∏–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä**, –µ—Å–ª–∏ –µ–≥–æ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

---

### üîß –°–∏–Ω—Ç–∞–∫—Å–∏—Å `::`

–û–±—â–∏–π –≤–∏–¥:

```java
Target::method
```

Java —Å–∞–º–∞ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ –º–µ—Ç–æ–¥ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ, –µ—Å–ª–∏ –∏—Ö —Å–∏–≥–Ω–∞—Ç—É—Ä—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –æ–∂–∏–¥–∞–µ–º—ã–º–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

---

### üìö –í–∏–¥—ã method reference

| –í–∏–¥ | –°–∏–Ω—Ç–∞–∫—Å–∏—Å | –ü—Ä–∏–º–µ—Ä | –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç –ª—è–º–±–¥—ã |
|-----|-----------|--------|-------------------|
| 1. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ | `Class::staticMethod` | `Integer::sum` | `(x, y) -> Integer.sum(x, y)` |
| 2. –ú–µ—Ç–æ–¥ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ | `Class::instanceMethod` | `String::toLowerCase` | `s -> s.toLowerCase()` |
| 3. –ú–µ—Ç–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ | `object::instanceMethod` | `someStr::equals` | `x -> someStr.equals(x)` |
| 4. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä | `Class::new` / `Type[]::new` | `ArrayList::new` | `() -> new ArrayList<>()` |

---

### üîπ –ü—Ä–∏–º–µ—Ä—ã: —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã

```java
BiFunction<Integer, Integer, Integer> sum = Integer::sum;
// –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ: (x, y) -> Integer.sum(x, y)
```

---

### üîπ –ü—Ä–∏–º–µ—Ä—ã: –Ω–µ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã (—ç–∫–∑–µ–º–ø–ª—è—Ä –ª—é–±–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞)

```java
Function<String, String> toLower = String::toLowerCase;
// –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ: s -> s.toLowerCase()
```

---

### üîπ –ü—Ä–∏–º–µ—Ä—ã: –º–µ—Ç–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞

```java
String s = "abc";
Predicate<String> equals = s::equals;
// –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ: t -> s.equals(t)
```

---

### üîπ –ü—Ä–∏–º–µ—Ä—ã: —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã

```java
Supplier<List<Integer>> listSupplier = ArrayList::new;
// –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ: () -> new ArrayList<>()

IntFunction<int[]> arrayCtor = int[]::new;
// –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ: i -> new int[i]
```

---

### üîπ –ü—Ä–∏–º–µ—Ä: –≥–µ—Ç—Ç–µ—Ä –∏ —Å–µ—Ç—Ç–µ—Ä

```java
Function<Grade, Integer> getScore = Grade::getScore;
BiConsumer<Grade, Integer> setScore = Grade::setScore;
```

---

### üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `::` –≤–º–µ—Å—Ç–æ –ª—è–º–±–¥—ã?

–ò—Å–ø–æ–ª—å–∑—É–π —Å—Å—ã–ª–∫—É –Ω–∞ –º–µ—Ç–æ–¥, –µ—Å–ª–∏:
- —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–π –º–µ—Ç–æ–¥;
- —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞ **—Å–æ–≤–ø–∞–¥–∞–µ—Ç** —Å —Å–∏–≥–Ω–∞—Ç—É—Ä–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞;
- —Ç—ã —Ö–æ—á–µ—à—å —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ **—á–∏—â–µ –∏ —á–∏—Ç–∞–µ–º–µ–µ**.

---

### ‚ö†Ô∏è Caveat: –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `::` —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º –∫–æ–¥–æ–º

```java
// ‚ùå —Ç–∞–∫ –Ω–µ–ª—å–∑—è
Function<Integer, Integer> f = Integer::sum(1, 2);
```

‚Üí `::` ‚Äî —ç—Ç–æ **—Å—Å—ã–ª–∫–∞ –Ω–∞ –∏–º—è –º–µ—Ç–æ–¥–∞**, –∞ –Ω–µ –≤—ã–∑–æ–≤.

---

### üìå –í—ã–≤–æ–¥—ã:

–°—Å—ã–ª–∫–∏ –Ω–∞ –º–µ—Ç–æ–¥—ã:
- –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞;
- –¥–µ–ª–∞—é—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∫–æ—Ä–æ—á–µ;
- —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–∞ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã;
- –Ω–µ –∑–∞–º–µ–Ω—è—é—Ç –ª—è–º–±–¥—ã –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö ‚Äî –Ω–æ –æ—Ç–ª–∏—á–Ω–æ –¥–æ–ø–æ–ª–Ω—è—é—Ç –∏—Ö.

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ß–µ–º `String::toLowerCase` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `s -> s.toLowerCase()`?
2. –ö–æ–≥–¥–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Class::staticMethod`, –∞ –∫–æ–≥–¥–∞ `object::method`?
3. –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –ø–æ–º–æ—â—å—é `::`?
4. –ü–æ—á–µ–º—É `Integer::sum(1, 2)` ‚Äî —ç—Ç–æ –æ—à–∏–±–∫–∞?
5. –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –º–æ–∂–Ω–æ –ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –ª—è–º–±–¥—É –Ω–∞ method reference?
</details>

## 8. –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø—Ä–µ–¥–∏–∫–∞—Ç–æ–≤

–§—É–Ω–∫—Ü–∏–∏ –∏ –ø—Ä–µ–¥–∏–∫–∞—Ç—ã ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã, –∏ –∏—Ö –º–æ–∂–Ω–æ **–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É —Å–æ–±–æ–π**, —Å–æ–∑–¥–∞–≤–∞—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏–ª–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —É—Å–ª–æ–≤–∏–π. –î–ª—è —ç—Ç–æ–≥–æ –≤ `Function` –∏ `Predicate` –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ **default-–º–µ—Ç–æ–¥—ã**.

---

### üîÅ –ö–æ–º–ø–æ–∑–∏—Ü–∏—è `Function`

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Function<T, R>` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã:

- `andThen(Function after)` ‚Äî —Å–Ω–∞—á–∞–ª–∞ —Ç–µ–∫—É—â–∞—è, –ø–æ—Ç–æ–º `after`
- `compose(Function before)` ‚Äî —Å–Ω–∞—á–∞–ª–∞ `before`, –ø–æ—Ç–æ–º —Ç–µ–∫—É—â–∞—è

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è `Function<T, R>`:

```java
@FunctionalInterface
public interface Function<T, R> {

    R apply(T t);

    default <V> Function<T, V> andThen(
            Function<? super R, ? extends V> after
    ) {
        Objects.requireNonNull(after);
        return (T t) -> after.apply(apply(t));
    }

    default <V> Function<V, R> compose(
            Function<? super V, ? extends T> before
    ) {
        Objects.requireNonNull(before);
        return (V v) -> apply(before.apply(v));
    }
}
```

#### –ü—Ä–∏–º–µ—Ä:

```java
Function<Integer, Integer> plusOne = x -> x + 1;
Function<Integer, Integer> timesTwo = x -> x * 2;

Function<Integer, Integer> composed1 = plusOne.compose(timesTwo);
// x -> plusOne(timesTwo(x)) ‚Üí (x * 2) + 1

Function<Integer, Integer> composed2 = plusOne.andThen(timesTwo);
// x -> timesTwo(plusOne(x)) ‚Üí (x + 1) * 2

composed1.apply(3); // 7
composed2.apply(3); // 8
```

üìå `compose()` ‚Äî ¬´–æ–±—ë—Ä—Ç–∫–∞ —Å–ª–µ–≤–∞¬ª, `andThen()` ‚Äî ¬´–æ–±—ë—Ä—Ç–∫–∞ —Å–ø—Ä–∞–≤–∞¬ª.

---

### üß™ –ö–æ–º–ø–æ–∑–∏—Ü–∏—è `Predicate`

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Predicate<T>` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã:

- `and(Predicate other)` ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò
- `or(Predicate other)` ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò
- `negate()` ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ù–ï

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è `Predicate<T>`:

```java
@FunctionalInterface
public interface Predicate<T> {
    
    boolean test(T t);
    
    default Predicate<T> and(Predicate<? super T> other) {
        Objects.requireNonNull(other);
        return (t) -> test(t) && other.test(t);
    }
    
    default Predicate<T> or(Predicate<? super T> other) {
        Objects.requireNonNull(other);
        return (t) -> test(t) || other.test(t);
    }
}
```

#### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```java
Predicate<Integer> isEven = x -> x % 2 == 0;
Predicate<Integer> isPositive = x -> x > 0;

Predicate<Integer> evenAndPositive = isEven.and(isPositive);

evenAndPositive.test(2);   // true
evenAndPositive.test(-2);  // false
evenAndPositive.test(3);   // false
```

#### –ï—â—ë –ø—Ä–∏–º–µ—Ä—ã ‚Äî –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ:

```java
Predicate<Integer> isEven = x -> x % 2 == 0;
Predicate<Integer> isOdd = isEven.negate();

isOdd.test(3); // true
isOdd.test(2); // false
```

#### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:

```java
Predicate<Integer> isEvenOrPositive = isEven.or(isPositive);
```

> –¢–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –ø–æ–∑–≤–æ–ª—è—é—Ç **–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å** –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä—è–º–æ –≤ —Ü–µ–ø–æ—á–∫–µ, –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

---

### üìå –í—ã–≤–æ–¥—ã:

| –¢–∏–ø       | –ú–µ—Ç–æ–¥        | –ü–æ–≤–µ–¥–µ–Ω–∏–µ                         |
|-----------|--------------|-----------------------------------|
| Function  | `compose()`  | —Å–Ω–∞—á–∞–ª–∞ `before`, –ø–æ—Ç–æ–º `this`    |
| Function  | `andThen()`  | —Å–Ω–∞—á–∞–ª–∞ `this`, –ø–æ—Ç–æ–º `after`     |
| Predicate | `and()`      | –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò                      |
| Predicate | `or()`       | –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò                    |
| Predicate | `negate()`   | –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ù–ï                     |

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `compose()` –∏ —á–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `andThen()`?
2. –ö–∞–∫ —Å–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–≤–∞ –ø—Ä–µ–¥–∏–∫–∞—Ç–∞ –≤ –æ–¥–∏–Ω?
3. –ö–∞–∫ —Å –ø–æ–º–æ—â—å—é `Predicate.negate()` –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ?
4. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `compose()` –Ω–∞ `Function<Integer, Integer>`?
5. –ü–æ—á–µ–º—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ default-–º–µ—Ç–æ–¥—ã —É–¥–æ–±–Ω–∞?
</details>

## 9. –õ—è–º–±–¥—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ API –∫–æ–ª–ª–µ–∫—Ü–∏–π

–° Java 8 `Map` –∏ `List` –ø–æ–ª—É—á–∏–ª–∏ **–Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã**, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏–ª–æ –ø–∏—Å–∞—Ç—å **–±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥**, —É—Å—Ç—Ä–∞–Ω—è—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ `null`, –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö `put`, `get`, `containsKey` –∏ —Ç.–¥.


### `forEach` –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö

–ú–µ—Ç–æ–¥ `forEach` –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ `Iterable` –∏ `Map`.

#### `List.forEach`

```java
List<Grade> grades = new LinkedList<>(
        List.of(
                new Grade(1L, 99),
                new Grade(2L, 80),
                new Grade(3L, 70)
        )
);
grades.forEach(System.out::println);
```

#### `Map.forEach`

```java
Map<Long, Grade> gradeMap = new HashMap<>(
        Map.of(1L, new Grade(1L, 99),
                2L, new Grade(2L, 80),
                3L, new Grade(3L, 70)
        )
);

gradeMap.forEach((studentId, grade) ->
    System.out.println(studentId + ": " + grade.getScore()));
```

> –í `Map.forEach` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `BiConsumer<K, V>` ‚Äî —É–¥–æ–±–Ω–æ.

---

### ‚öôÔ∏è `Map.compute`

–ú–µ—Ç–æ–¥ compute(K key, BiFunction<K,V,V> remappingFunction) –≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –Ω–∞–ª–∏—á–∏—è –∫–ª—é—á–∞.

–û–Ω –∑–∞–º–µ–Ω—è–µ—Ç –∏–ª–∏ —É–¥–∞–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏.

```java
V compute(K key, BiFunction<? super K, ? super V, ? extends V> remappingFunction);
```

–£–≤–µ–ª–∏—á–∏–º –±–∞–ª–ª—ã –≤—Å–µ–º —Å—Ç—É–¥–µ–Ω—Ç–∞–º –Ω–∞ scoreIncrease, –º–∞–∫—Å–∏–º—É–º –¥–æ 100:

```java
void increaseScores(
        Map<Long, Integer> scoresByStudent,
        int scoreIncrease
) {
    for (var studentId : scoresByStudent.keySet()) {
        scoresByStudent.compute(
                studentId,
                (id, score) -> Math.min(100, score + scoreIncrease)
        );
    }
}
```
> –í `remappingFunction` —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å `null` (–≤ –∫–ª—é—á –µ—Å—Ç—å, –Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ `null`). –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω—ë—Ç `null`, –∑–∞–ø–∏—Å—å –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞. –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã –ø—Ä–∏ –æ–±—Ö–æ–¥–µ `keySet()` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∫–ª—é—á–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ `ConcurrentModificationException`.

---

### ‚öôÔ∏è `Map.computeIfAbsent`

–î–æ–±–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–ª—é—á–∞ –Ω–µ—Ç**.

```java
V computeIfAbsent(K key, Function<? super K, ? extends V> mappingFunction)
```

```java
gradesByStudent.computeIfAbsent(1L,id -> new Grade(id, 0));
```

>–ï—Å–ª–∏ –ø–æ id —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–µ—Ç –æ—Ü–µ–Ω–∫–∏, –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º 0
>–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É —É–∂–µ –µ—Å—Ç—å ‚Äì Map –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
---

### ‚öôÔ∏è `Map.computeIfPresent`

```java
V computeIfPresent(K key, BiFunction<? super K, ? super V, ? extends V> remappingFunction)
```

–û–±–Ω–æ–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–ª—é—á —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç**.

```java
gradesByStudent.computeIfPresent(1L,(id, grade) -> new Grade(id, grade.getScore() - 10));
```
> –ï—Å–ª–∏ –ø–æ id —Å—Ç—É–¥–µ–Ω—Ç–∞ –µ—Å—Ç—å –æ—Ü–µ–Ω–∫–∞, –ø–æ–Ω–∏–∑–∏—Ç—å –Ω–∞ 10
> –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É –µ—Å—Ç—å ‚Äì –∑–Ω–∞—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
---

### üîÄ `Map.merge`

–ú–µ—Ç–æ–¥ `merge` –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –∫–ª—é—á—É:

```java
void setNewOrBestOfNewAndOldScore(
        Map<Long, Integer> scoresByStudent,
        long studentId,
        int newScore
) {
    scoresByStudent.merge(
            studentId,
            newScore,
            (oldSc, newSc) -> Math.max(oldSc, newSc) // –∏–ª–∏ Math::max
    );
}
```

> –ï—Å–ª–∏ —É —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–µ—Ç –±–∞–ª–ª–æ–≤ ‚Äì –¥–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º newScore;
> –ï—Å–ª–∏ —É —Å—Ç—É–¥–µ–Ω—Ç–∞ –µ—Å—Ç—å –±–∞–ª–ª—ã ‚Äì –ø–æ—Å—Ç–∞–≤–∏—Ç—å –º–∞–∫—Å–∏–º—É–º –º–µ–∂–¥—É —Å—Ç–∞—Ä–æ–π –æ—Ü–µ–Ω–∫–æ–π –∏ –Ω–æ–≤–æ–π –æ—Ü–µ–Ω–∫–æ–π


> –ú–µ—Ç–æ–¥—ã `computeIfPresent|computeIfAbsent` —Å–∞–º–∏ –ø–æ —Å–µ–±–µ –Ω–µ –±—Ä–æ—Å–∞—é—Ç `NullPointerException` –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∫–ª—é—á–∞, –Ω–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—è–∑–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–æ–∑–º–æ–∂–Ω—ã–º `null` –∑–Ω–∞—á–µ–Ω–∏–µ–º (–µ—Å–ª–∏ –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è).
---

### ‚úÖ –ü–æ–≤–µ–¥–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –ø—Ä–∏ `null`

| –ú–µ—Ç–æ–¥              | –£—Å–ª–æ–≤–∏–µ               | –ü–æ–≤–µ–¥–µ–Ω–∏–µ                              |
|--------------------|-----------------------|----------------------------------------|
| `computeIfAbsent`  | –∫–ª—é—á **–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**   | –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ   |
| `computeIfPresent` | –∫–ª—é—á **–ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç** | –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ   |
| `compute`          | –≤—Å–µ–≥–¥–∞                | –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –∫–ª—é—á   |
| `merge`            | –≤—Å–µ–≥–¥–∞                | –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–ª–∏ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç               |
| `forEach`          | –≤—Å–µ–≥–¥–∞                | –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –æ–±—Ö–æ–¥                       |

---

### üìå –í—ã–≤–æ–¥—ã:

–ú–µ—Ç–æ–¥—ã `Map` –∏ `List` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ª—è–º–±–¥:
- –∑–∞–º–µ–Ω—è—é—Ç —à–∞–±–ª–æ–Ω–Ω—ã–π –∫–æ–¥ `if`, `containsKey`, `get`, `put`;
- –±–µ–∑–æ–ø–∞—Å–Ω—ã ‚Äî –Ω–µ –∫–∏–¥–∞—é—Ç NPE –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫–ª—é—á–µ–π;
- —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–º–ø–∞–∫—Ç–Ω–æ –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ;
- –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî —É–¥–æ–±–Ω–æ –¥–ª—è —Ü–µ–ø–æ—á–µ–∫.

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>
1. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `compute`, `computeIfAbsent` –∏ `computeIfPresent`?
2. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤ `compute` –≤–µ—Ä–Ω—ë—Ç `null`?
3. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ—Ç–æ–¥ `merge`, –µ—Å–ª–∏ –∫–ª—é—á–∞ –Ω–µ—Ç? –ê –µ—Å–ª–∏ –∫–ª—é—á –µ—Å—Ç—å?
4. –ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `computeIfAbsent`, –∞ –∫–æ–≥–¥–∞ `putIfAbsent`?
5. –ü–æ—á–µ–º—É `forEach` —É–¥–æ–±–Ω–µ–µ –æ–±—ã—á–Ω–æ–≥–æ —Ü–∏–∫–ª–∞?
</details>

## 10. –ö–æ–º–ø–∞—Ä–∞—Ç–æ—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –ª—è–º–±–¥—ã

–° Java 8 —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π —Å—Ç–∞–ª–∞ —É–¥–æ–±–Ω–µ–µ –∑–∞ —Å—á—ë—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –≤ `Comparator` –∏ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π.

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä—ã, **–Ω–µ —Å–æ–∑–¥–∞–≤–∞—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã**, –∏ –ª–µ–≥–∫–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.

---

### üîÅ –ë–∞–∑–æ–≤–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: `Comparator.comparing()`

```java
List<Grade> grades = new ArrayList<>();
grades.add(new Grade(2L, 80));
grades.add(new Grade(1L, 90));
grades.add(new Grade(3L, 70));

grades.sort(Comparator.comparing(Grade::getScore));
```

üìå –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é `score`.

---

### üî¢ –ü—Ä–∏–º–∏—Ç–∏–≤—ã: `comparingInt`, `comparingLong`, `comparingDouble`

–ò—Å–ø–æ–ª—å–∑—É–π, –∫–æ–≥–¥–∞ –ø–æ–ª–µ ‚Äî –ø—Ä–∏–º–∏—Ç–∏–≤, —á—Ç–æ–±—ã **–∏–∑–±–µ–∂–∞—Ç—å –∞–≤—Ç–æ—É–ø–∞–∫–æ–≤–∫–∏**.

```java
grades.sort(Comparator.comparingInt(Grade::getScore));
```

---

### ‚ûï –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º: `thenComparing`

```java
grades.sort(
    Comparator.comparing(Grade::getScore)
              .thenComparing(Grade::getStudentId)
);
```

üìå –°–Ω–∞—á–∞–ª–∞ –ø–æ `score`, –∑–∞—Ç–µ–º –ø–æ `studentId`, –µ—Å–ª–∏ –±–∞–ª–ª—ã —Ä–∞–≤–Ω—ã.

---

### üîΩ –û–±—Ä–∞—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫: `reversed()`

```java
Comparator<Grade> byScoreDesc = Comparator
    .comparingInt(Grade::getScore)
    .reversed();

grades.sort(byScoreDesc);
```

---

### ‚ö†Ô∏è –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å null: `nullsFirst` –∏ `nullsLast`

```java
List<String> names = new ArrayList<>(Arrays.asList("Alice", null, "Bob", "Charlie"));

List<String> list = new ArrayList<>(names);

list.sort(Comparator.nullsFirst(Comparator.naturalOrder()));
System.out.println(list); // [null, Alice, Bob, Charlie]

list.sort(Comparator.nullsLast(Comparator.naturalOrder()));
System.out.println(list); // [Alice, Bob, Charlie, null]
```

---

### üîç –ú–µ—Ç–æ–¥ `Integer.compare`, `Double.compare`

–£–ø—Ä–æ—â–∞—é—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–æ–≤:

```java
Comparator<Grade> byScore = (g1, g2) ->
    Integer.compare(g1.getScore(), g2.getScore());

Comparator<Grade> byScoreDesc = (g1, g2) ->
    Integer.compare(g2.getScore(), g1.getScore());
```

> –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –ø—Ä–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ `double`:
> - –í Java —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π —Å–ª–µ–¥—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É IEEE‚Äë754: `-0.0` –∏ `0.0` —Ä–∞–≤–Ω—ã –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é, –Ω–æ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –ø–æ –±–∏—Ç–æ–≤–æ–π —Ä–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏.
> - `NaN` –Ω–µ —Ä–∞–≤–µ–Ω –Ω–∏—á–µ–º—É, –¥–∞–∂–µ —Å–∞–º–æ–º—É —Å–µ–±–µ (`NaN != NaN`).
> - –ü–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Double.compare(a, b)` (–∏–ª–∏ `Comparator.comparingDouble(...)`) ‚Äî —ç—Ç–∏ –º–µ—Ç–æ–¥—ã —É—á–∏—Ç—ã–≤–∞—é—Ç –≤—Å–µ –Ω—é–∞–Ω—Å—ã.

---

| –ú–µ—Ç–æ–¥                        | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                             |
|-----------------------------|----------------------------------------|
| `Comparator.comparing()`    | —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–æ–ª—é (—á–µ—Ä–µ–∑ –≥–µ—Ç—Ç–µ—Ä)      |
| `comparingInt()`            | –∫–∞–∫ –≤—ã—à–µ, –Ω–æ –±–µ–∑ –∞–≤—Ç–æ—É–ø–∞–∫–æ–≤–∫–∏          |
| `thenComparing()`           | –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ –ø—Ä–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ      |
| `reversed()`                | –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –Ω–∞ –æ–±—Ä–∞—Ç–Ω—ã–π           |
| `nullsFirst() / nullsLast()`| —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ–º `null`           |

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ß–µ–º `comparingInt` –ª—É—á—à–µ `comparing` –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π?
2. –ö–∞–∫ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—è–º —Å –ª—è–º–±–¥–∞–º–∏?
3. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å `null` –ø—Ä–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ?
4. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `nullsFirst` –∏ –∫–æ–≥–¥–∞ –æ–Ω –Ω—É–∂–µ–Ω?
5. –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è `Comparator.naturalOrder()` –æ—Ç `Comparator.reverseOrder()`?
</details>


