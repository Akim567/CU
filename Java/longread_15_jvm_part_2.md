# –í–≤–µ–¥–µ–Ω–∏–µ

–í–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ –ª–µ–∫—Ü–∏–∏ –æ JVM –º—ã —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è –Ω–∞ –º–µ—Ö–∞–Ω–∏–∑–º–∞—Ö –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ HotSpot: –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –ø—Ä–æ—Ç–∏–≤ JIT, –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è (tiered) –∫–æ–º–ø–∏–ª—è—Ü–∏—è, —Å–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –¥–µ–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–∑–æ–≤–æ–≤, –∏–Ω–ª–∞–π–Ω–∏–Ω–≥ –∏ –∫–ª—é—á–µ–≤—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ JIT. –ó–∞–≤–µ—Ä—à–∏–º –∫—Ä–∞—Ç–∫–∏–º —Ä–∞–∑–±–æ—Ä–æ–º —Ç–æ–≥–æ, –∫–∞–∫ JVM –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–∑–æ–≤—ã –Ω–∞ –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –º–µ—Ç–æ–¥–æ–≤.

# 1. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å JIT

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Java-–±–∞–π—Ç–∫–æ–¥–∞ JVM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä**, –∫–æ—Ç–æ—Ä—ã–π —á–∏—Ç–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –∏—Å–ø–æ–ª–Ω—è–µ—Ç –∏—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ. –û–¥–Ω–∞–∫–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –∏–º–µ–µ—Ç —Å–≤–æ–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏, –ø–æ—ç—Ç–æ–º—É –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —á–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è **JIT-–∫–æ–º–ø–∏–ª—è—Ü–∏—è** (just-in-time –∫–æ–º–ø–∏–ª—è—Ü–∏—è) ‚Äì –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –±–∞–π—Ç–∫–æ–¥–∞ –≤ –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –∏ –ø–æ—á–µ–º—É JVM –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ JIT-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ.

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ ‚Äì –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–±–∞–π—Ç–∫–æ–¥ —Å—Ä–∞–∑—É –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫ –Ω–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏—é).

–û–¥–Ω–∞–∫–æ –µ—Å—Ç—å –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

- **–ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π**. –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –º–µ—Ç–æ–¥–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –∑–∞–Ω–æ–≤–æ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç –∏ –∏—Å–ø–æ–ª–Ω—è–µ—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±–∞–π—Ç–∫–æ–¥–∞, —á—Ç–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è —á–∞—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ–º—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –∏–ª–∏ —Ü–∏–∫–ª–æ–≤.
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã** –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –¥–ª—è –∫–æ–º–∞–Ω–¥, –≥—Ä–∞–Ω–∏—Ü –º–∞—Å—Å–∏–≤–æ–≤ –∏ —Ç.–ø.) –∑–∞–º–µ–¥–ª—è—é—Ç —Ä–∞–±–æ—Ç—É –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º –∫–æ–¥–æ–º, –∑–∞—Ä–∞–Ω–µ–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –≤ –º–∞—à–∏–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π**. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –Ω–µ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–æ–¥ –∏ –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç –ø—Ä–æ—Ñ–∏–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ —Ü–∏–∫–ª–æ–≤ –∏–ª–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –≤–µ—Ç–≤–ª–µ–Ω–∏–π).

–ù–∞–ø—Ä–æ—Ç–∏–≤, **JIT**:

- **–ü–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**. –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥ –º–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ–≥–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –∏—Å—á–µ–∑–∞—é—Ç —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–π—Ç–∫–æ–¥–∞ –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é.
- **–í—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** –ø—Ä–æ–≥—Ä–∞–º–º—ã. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞, JIT –º–æ–∂–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–±–æ—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞ –ª–µ—Ç—É (–ø—Ä–æ—Ñ–∏–ª—å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è: —á–∞—Å—Ç–æ—Ç—É –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤, —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ –ø—É—Ç–∏ –≤ –∫–æ–¥–µ –∏ —Ç.–¥.). –ò—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ—Ç –ø—Ä–æ—Ñ–∏–ª—å, JIT –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ —Ç–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∑–∞–º–µ—á–µ–Ω—ã –≤ —Ä–∞–±–æ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- **–í—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**. JIT-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç —Å–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω–æ (—Ç–æ –µ—Å—Ç—å –ø–æ–ª–∞–≥–∞—è—Å—å –Ω–∞ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è) —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∫–æ–¥ ‚Äì –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å, —á—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –≤–µ—Å—Ç–∏ –∫ –æ–¥–Ω–æ–º—É –∫–ª–∞—Å—Å—É, –∏–ª–∏ —á—Ç–æ —É—Å–ª–æ–≤–∏–µ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –∏—Å—Ç–∏–Ω–Ω–æ.
- **–£—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ –≤—Ä–µ–º–µ–Ω–µ–º –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**. JIT —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–∏–µ —á–∞—Å—Ç–∏ –∫–æ–¥–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å—Ç–æ–∏—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å. –†–µ–¥–∫–æ –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –º–µ—Ç–æ–¥—ã –º–æ–≥—É—Ç –æ—Å—Ç–∞—Ç—å—Å—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–º–∏, —ç–∫–æ–Ω–æ–º—è –≤—Ä–µ–º—è –∏ –ø–∞–º—è—Ç—å –Ω–∞ –∏—Ö –∫–æ–º–ø–∏–ª—è—Ü–∏—é. –¢–∞–∫ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø–æ–¥ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º, –∞ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –º–µ—Å—Ç–∞ —É—Å–∫–æ—Ä—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–æ–≥—Ä–µ–≤–∞.

---

# 2. –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è (Tiered compilation)

HotSpot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é –∫–æ–º–ø–∏–ª—è—Ü–∏—é (**tiered compilation**), —á—Ç–æ–±—ã —Å–æ—á–µ—Ç–∞—Ç—å –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∏ –≤—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ –ø—Ä–æ–≥—Ä–µ–≤–∞.

–ò–¥–µ—è –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –º–µ—Ç–æ–¥ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: –æ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∫ –ø—Ä–æ—Å—Ç—ã–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º –∏ –¥–∞–ª–µ–µ –∫ —Å–ª–æ–∂–Ω—ã–º. –ó–∞ —Å—á—ë—Ç —ç—Ç–æ–≥–æ JVM —Ç—Ä–∞—Ç–∏—Ç –º–∏–Ω–∏–º—É–º —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é —Ö–æ–ª–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –º–∞–∫—Å–∏–º–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≥–æ—Ä—è—á–µ–≥–æ –∫–æ–¥–∞.

## 2.1. –£—Ä–æ–≤–Ω–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

- **Interpreted**. –ú–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º –±–µ–∑ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥. –ù–∞ —ç—Ç–æ–º —É—Ä–æ–≤–Ω–µ JVM –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–±–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è: —Å—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–∞ –∏ –∏—Ç–µ—Ä–∞—Ü–∏–π —Ü–∏–∫–ª–æ–≤.
- **C1**. –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞ –≤—ã–∑–æ–≤–æ–≤ JVM –º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑ —Å–µ—Ä—å—ë–∑–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π. –î–∞–ª–µ–µ JIT –º–æ–∂–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å –±–æ–ª–µ–µ —Å–µ—Ä—å—ë–∑–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.
- **C2**. –§–∏–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä C2 –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –º–µ—Ç–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—è –≤—Å–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è. C2 –ø—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –∏ —Å–ª–æ–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –≥–µ–Ω–µ—Ä–∏—Ä—É—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥. –≠—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ä–µ—Å—É—Ä—Å–æ–≤, –ø–æ—ç—Ç–æ–º—É C2 –≤–∫–ª—é—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ –≥–æ—Ä—è—á–∏—Ö —É—á–∞—Å—Ç–∫–æ–≤ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –∏—Å–ø–æ–ª–Ω–µ–Ω—ã –∏ –æ–ø—Ä–∞–≤–¥—ã–≤–∞—é—Ç –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é.

–ü–µ—Ä–µ—Ö–æ–¥—ã —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è **tiered policy**: JVM —Ä–µ—à–∞–µ—Ç, –∫–æ–≥–¥–∞ –º–µ—Ç–æ–¥ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ¬´–≥–æ—Ä—è—á–∏–π¬ª, —á—Ç–æ–±—ã:

- –≤–ø–µ—Ä–≤—ã–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ;
- –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ;
- –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –º–µ—Ç–æ–¥–∞.

> –°—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –æ–±—Ä–∞—Ç–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ (–¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è) —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–µ–Ω; –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –µ–≥–æ –¥–∞–ª–µ–µ.

## 2.2. –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ: —á—Ç–æ –ø—Ä–æ—Ñ–∏–ª–∏—Ä—É–µ—Ç JVM

–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ **interpreted** –∏ **C1** —Ä–µ–∂–∏–º–∞—Ö –∏ –≤–∫–ª—é—á–∞–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä:

- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π —Ü–∏–∫–ª–æ–≤ (back edges)
- —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤–µ—Ç–≤–ª–µ–Ω–∏—è–º
- —Ç–∏–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –≤—ã–∑–æ–≤–∞—Ö –º–µ—Ç–æ–¥–æ–≤
- –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ç–∏–ø—ã
- –∏—Å–∫–ª—é—á–µ–Ω–∏—è

<details>
<summary><strong>üìò –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</strong></summary>

1. –ö–∞–∫–∏–µ —É—Ä–æ–≤–Ω–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ HotSpot JVM –∏ —á–µ–º –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞?
2. –ö–∞–∫–∏–µ —Ç–∏–ø—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä—É—é—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–∞—Ö –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ C1?
3. –ü–æ—á–µ–º—É JVM –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç —Å—Ä–∞–∑—É –≤—Å–µ –º–µ—Ç–æ–¥—ã —Å–∞–º—ã–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º C2?

</details>

---

# 3. –°–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**Speculative optimizations** ‚Äî –∫–ª—é—á–µ–≤–∞—è —Å—É–ø–µ—Ä—Å–∏–ª–∞ JIT. JVM –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç, –∏—Å—Ö–æ–¥—è –∏–∑ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤–µ—Ä–Ω—ã ¬´–≤ —Å—Ä–µ–¥–Ω–µ–º¬ª –ø–æ —Ç–µ–∫—É—â–µ–º—É –ø—Ä–æ—Ñ–∏–ª—é.

JIT-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä HotSpot –∞–∫—Ç–∏–≤–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ‚Äì —Ç–æ –µ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è—Ö –æ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ü—Ä–∏–º–µ—Ä—ã —Ç–∞–∫–∏—Ö –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π: ¬´–º–µ—Ç–æ–¥ X –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å –æ–±—ä–µ–∫—Ç–æ–º –∫–ª–∞—Å—Å–∞ Y¬ª –∏–ª–∏ ¬´—É—Å–ª–æ–≤–∏–µ Z –æ–±—ã—á–Ω–æ –∏—Å—Ç–∏–Ω–Ω–æ¬ª. –≠—Ç–∏ –¥–æ–ø—É—â–µ–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å –∫–æ–¥ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤.

–û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –≤ —Ö–æ–¥–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è, JVM –≤—ã–ø–æ–ª–Ω—è–µ—Ç deoptimization (–¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é) ‚Äì –æ—Ç–∫–∞—Ç –∫ –º–µ–Ω–µ–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∫–æ–¥—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É) —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

## 3.1. –ú–µ—Ö–∞–Ω–∏–∑–º Uncommon Trap

–î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ‚Äì —ç—Ç–æ –æ–±—Ä–∞—Ç–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ —Å–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–µ–º–æ–≤. JVM –¥–æ–ª–∂–Ω–∞ —É–º–µ—Ç—å –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –æ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–∞—à–∏–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—é (–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∏–ª–∏ –º–µ–Ω–µ–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∫–æ–¥—É), –µ—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω—ã—Ö –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π.

JIT –≤—Å—Ç–∞–≤–ª—è–µ—Ç **guards** –∏ —Ç–æ—á–∫–∏ –æ—Ç–∫–∞—Ç–∞ (traps). –ü—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä (–∏–ª–∏ –º–µ–Ω–µ–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é), –∞ JVM –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –±–∞–π—Ç–∫–æ–¥—É.

–°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JIT-–∫–æ–¥ –≤–∫–ª—é—á–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Ç–æ—á–∫–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞, –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ **uncommon traps** (–Ω–µ—Ç–∏–ø–∏—á–Ω—ã–µ –ª–æ–≤—É—à–∫–∏). –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ JIT –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–ª, —á—Ç–æ –æ–Ω –æ–∂–∏–¥–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞, —Ç–æ –æ–Ω –≤—Å—Ç–∞–≤–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É:

```text
// –ü—Å–µ–≤–¥–æ–∫–æ–¥ HotSpot (–Ω–µ Java):
if (receiver.klass == expected.klass) {
    // –ø—Ä—è–º–æ–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Ü–µ–ª–µ–≤–æ–º—É –º–µ—Ç–æ–¥—É
    call expected.method
} else {
    // —Ä–µ–¥–∫–∏–π –ø—É—Ç—å: –ø–µ—Ä–µ—Ö–æ–¥ –≤ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –∏ –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
    uncommon_trap
}
```

–í –æ–±—ã—á–Ω–æ–º —Å–ª—É—á–∞–µ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç, –∏ –ø—Ä—è–º–æ–π –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—É—Ç—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ –ª–∏—à–Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π. –ï—Å–ª–∏ –∂–µ –≤ –∫–∞–∫–æ–π-—Ç–æ –º–æ–º–µ–Ω—Ç –æ–±—ä–µ–∫—Ç –æ–∫–∞–∂–µ—Ç—Å—è –¥—Ä—É–≥–æ–≥–æ —Ç–∏–ø–∞, —É—Å–ª–æ–≤–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –∏ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç trap.

–ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç uncommon trap, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –ø—Ä–æ–±–ª–µ–º–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –∫–æ–¥–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ (–∏–ª–∏ –≤ –º–µ–Ω–µ–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏).

## 3.2. –†–æ–ª—å –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

–ü–æ—Å–ª–µ –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ JVM –º–æ–∂–µ—Ç:

- –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ —Å –Ω–æ–≤—ã–º–∏ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è–º–∏
- —Å–Ω–∏–∑–∏—Ç—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π, –µ—Å–ª–∏ trap —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, **—Å–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –ø–∞—Ä–µ —Å –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π**: JVM –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç –æ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –∏ –æ—Ç—Å—Ç—É–ø–∞–µ—Ç –æ—Ç –Ω–∏—Ö –≤ —Ä–µ–¥–∫–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö. –≠—Ç–æ –º–æ—â–Ω–µ–π—à–µ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ JIT-–∫–æ–º–ø–∏–ª—è—Ü–∏–∏ ‚Äì –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∏—Å–∫–Ω—É—Ç—å —Ä–∞–¥–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –±–µ–∑ —É—â–µ—Ä–±–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏.

<details>
<summary><strong>üìò –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</strong></summary>

1. –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç ¬´—Å–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è¬ª –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ JIT-–∫–æ–º–ø–∏–ª—è—Ü–∏–∏?
2. –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ JIT –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –æ –≤—ã–ø–æ–ª–Ω—è—é—â–µ–π—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–µ.
3. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ uncommon trap? –ö–∞–∫ JVM –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ—Å–ª–µ –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏?

</details>

---

# 4. –î–µ–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è (Devirtualization)

–û–¥–Ω–æ–π –∏–∑ –≤–∞–∂–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π JIT —è–≤–ª—è–µ—Ç—Å—è –¥–µ–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è ‚Äì —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ (—á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ) —Ç—Ä–µ–±—É–µ—Ç –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å, —á—Ç–æ –æ–±—ã—á–Ω–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ (vtable). JIT-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å—Ç–∞—Ä–∞–µ—Ç—Å—è –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ –≤ –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–∏–Ω –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –≤ –¥–∞–Ω–Ω–æ–º –≤—ã–∑–æ–≤–µ.

## 4.1. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è call site: –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π, –±–∏–º–æ—Ä—Ñ–Ω—ã–π, –º–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–π

- **–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –≤—ã–∑–æ–≤** ‚Äì –∑–∞ –≤—Ä–µ–º—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –¥–∞–Ω–Ω—É—é —Ç–æ—á–∫—É –≤—ã–∑–æ–≤–∞ –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ –æ–±—ä–µ–∫—Ç—ã —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.
- **–ë–∏–º–æ—Ä—Ñ–Ω—ã–π –≤—ã–∑–æ–≤** ‚Äì –Ω–∞ –¥–∞–Ω–Ω–æ–º –≤—ã–∑–æ–≤–µ –≤—Å—Ç—Ä–µ—á–∞–ª–æ—Å—å –¥–≤–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–ª–∞—Å—Å–∞ (–¥–≤–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏). –ù–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç `Circle`, –∏–Ω–æ–≥–¥–∞ `Rectangle`, –∏ –±–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö.
- **–ú–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–π –≤—ã–∑–æ–≤** ‚Äì –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ (3 –∏ –±–æ–ª–µ–µ) –≤ –¥–∞–Ω–Ω–æ–π —Ç–æ—á–∫–µ. –¢–∞–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º–µ—Ç–æ–¥ –∏–∑ –æ—á–µ–Ω—å –æ–±—â–µ–≥–æ API –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö.

–ü—Ä–∞–∫—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ 90-95% –≤—ã–∑–æ–≤–æ–≤ –≤ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã –∏–ª–∏ –±–∏–º–æ—Ä—Ñ–Ω—ã. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–¥–Ω–∏–º –∏–ª–∏ –¥–≤—É–º—è –∫–ª–∞—Å—Å–∞–º–∏. –ò–º–µ–Ω–Ω–æ –Ω–∞ —ç—Ç–∏ —Å–ª—É—á–∞–∏ –∏ –Ω–∞—Ü–µ–ª–µ–Ω JIT –ø—Ä–∏ –¥–µ–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏.

## 4.2. Class Hierarchy Analysis (CHA)

–ê–Ω–∞–ª–∏–∑ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–ª–∞—Å—Å–æ–≤ (CHA) –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —É –¥–∞–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –±–æ–ª–µ–µ –æ–¥–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤. –ï—Å–ª–∏ JVM –≤–∏–¥–∏—Ç, —á—Ç–æ –∫–ª–∞—Å—Å, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —Å—Å—ã–ª–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏—Ö –¥–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥, —Ç–æ –≤—ã–∑–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ –ø—Ä—è–º–æ–π. –ü–æ —Å—É—Ç–∏, –µ—Å–ª–∏ –º–µ—Ç–æ–¥ –æ–∫–∞–∑–∞–ª—Å—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ final (–±–µ–∑ override) –≤ —Ä–∞–º–∫–∞—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏, JIT –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é, –º–∏–Ω—É—è –º–µ—Ö–∞–Ω–∏–∑–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å CHA –≤ JVM ‚Äì –æ–Ω –ª–µ–Ω–∏–≤—ã–π –∏ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π:

- –ï—Å–ª–∏ –ø–æ–∑–∂–µ –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ä—É—à–∏—Ç –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—è–≤–∏—Ç—Å—è –Ω–æ–≤—ã–π –ø–æ–¥–∫–ª–∞—Å—Å —Å–æ —Å–≤–æ–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –º–µ—Ç–æ–¥–∞), —Ç–æ —Ä–∞–Ω–µ–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –æ–∫–∞–∂–µ—Ç—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º. JVM –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –≤—ã–ø–æ–ª–Ω–∏—Ç –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –≤—Å–µ—Ö —É—á–∞—Å—Ç–∫–æ–≤, –≥–¥–µ –±—ã–ª–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –¥–µ–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è, –∏ –±—É–¥–µ—Ç –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, CHA —Ç–æ–∂–µ –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞.
- –ï—Å–ª–∏ –Ω–∞ –º–æ–º–µ–Ω—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –º–µ—Ç–æ–¥–∞, —Ç–æ —á–∏—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞.

## 4.3. –°–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω–∞—è –¥–µ–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è (Speculative devirtualization)

–î–ª—è –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã—Ö –∏ –±–∏–º–æ—Ä—Ñ–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤, –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–º, JIT –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω—É—é –¥–µ–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é. –ó–¥–µ—Å—å –∞–∫—Ç–∏–≤–Ω–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è inline-caches (IC): –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–µ –∏ –±–∏–º–æ—Ä—Ñ–Ω—ã–µ call-site‚Äô—ã –ø–æ–ª—É—á–∞—é—Ç –±—ã—Å—Ç—Ä—ã–µ –∫—ç—à–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, –∞ –ø—Ä–∏ —Ä–æ—Å—Ç–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è —Ç–∏–ø–æ–≤ HotSpot –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –Ω–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ IC –∏–ª–∏ –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å—Å—è –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º—É –≤—ã–∑–æ–≤—É. 

–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å —Ü–∏–∫–ª, –≤—ã–∑—ã–≤–∞—é—â–∏–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥:

```java
void applyAll(BaseClass[] array, int x, int y) {
    for (BaseClass a : array) {
        a.apply(x, y); // –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤
    }
}
```

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –º–∞—Å—Å–∏–≤ `array` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—ä–µ–∫—Ç—ã —Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–∞ `NodeAdd` (–Ω–∞—Å–ª–µ–¥–Ω–∏–∫ `BaseClass`, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –º–µ—Ç–æ–¥ `apply`). –¢–æ–≥–¥–∞ –≤—ã–∑–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞ –ø–æ —Å—É—Ç–∏ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫ `NodeAdd.apply()`. JIT-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∫–æ–¥ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–∏–ø–∞ –∏ –ø—Ä—è–º—ã–º –≤—ã–∑–æ–≤–æ–º:

```java
if (a.getClass() == NodeAdd.class) {
    NodeAdd.apply(x, y); // –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ NodeAdd::apply
} else {
    uncommon_trap(); // —É—Ö–æ–¥ –Ω–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –∏–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é, –µ—Å–ª–∏ –≤—Å—Ç—Ä–µ—Ç–∏–ª—Å—è –¥—Ä—É–≥–æ–π —Ç–∏–ø
}
```

–¢–∞–∫–æ–π —à–∞–±–ª–æ–Ω –Ω–∞–∑—ã–≤–∞—é—Ç **guarded inlining** –∏–ª–∏ –≤—Å—Ç–∞–≤–∫–æ–π —Å –æ—Ö—Ä–∞–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π. –ü–æ —Å—É—Ç–∏:

- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ (`a.getClass() == ...`) –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—É—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.
- –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–º—É –∫–ª–∞—Å—Å—É, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ (–º–æ–∂–µ—Ç –±—ã—Ç—å –¥–∞–∂–µ –∑–∞–∏–Ω–ª–∞–π–Ω–µ–Ω –Ω–∞–ø—Ä—è–º—É—é, —Å–º. —Ä–∞–∑–¥–µ–ª 5).
- –ï—Å–ª–∏ –≤–¥—Ä—É–≥ –ø–æ–ø–∞–ª—Å—è –æ–±—ä–µ–∫—Ç –¥—Ä—É–≥–æ–≥–æ —Ç–∏–ø–∞, —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç trap –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä (–∏–ª–∏ –±–æ–ª–µ–µ –æ–±—â–∏–π –∫–æ–¥).

<details>
<summary><strong>üìò –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</strong></summary>

1. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–º, –±–∏–º–æ—Ä—Ñ–Ω—ã–º –∏ –º–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–º –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞?
2. –ö–∞–∫ JVM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–µ–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ (–º–µ—Ç–æ–¥ CHA)?
3. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è CHA-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å, –¥–æ–±–∞–≤–ª—è—é—â–∏–π –¥—Ä—É–≥—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤—ã–∑–≤–∞–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞?

</details>

---

# 5. –ò–Ω–ª–∞–π–Ω–∏–Ω–≥ –∫–∞–∫ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**Inlining** (–≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤) ‚Äì —ç—Ç–æ –∑–∞–º–µ–Ω–∞ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ –µ–≥–æ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º –∫–æ–¥–æ–º. JIT-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä HotSpot —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç inlining –∫–∞–∫ –æ–¥–Ω—É –∏–∑ —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω —É—Å—Ç—Ä–∞–Ω—è–µ—Ç —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —Å–∞–º–∏ –≤—ã–∑–æ–≤—ã –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π –∫–æ–¥–∞. –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –Ω–µ–±–æ–ª—å—à–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –ø—Ä—è–º–æ –≤ —Ç–µ–ª–æ –≤—ã–∑—ã–≤–∞—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ.

## 5.1. –ú–µ—Ö–∞–Ω–∏–∑–º inlining –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏

–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ –æ–± –∏–Ω–ª–∞–π–Ω–µ:

- **–†–∞–∑–º–µ—Ä –º–µ—Ç–æ–¥–∞**. –û–±—ã—á–Ω–æ JIT –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã. –î–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å –ø–æ—Ä–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ—Å—è—Ç–∫–æ–≤ –±–∞–π—Ç –±–∞–π—Ç–∫–æ–¥–∞): –µ—Å–ª–∏ –º–µ—Ç–æ–¥ –º–µ–Ω—å—à–µ –ø–æ—Ä–æ–≥–∞, –æ–Ω —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–º –Ω–∞ inline. –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã –Ω–µ –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è, —á—Ç–æ–±—ã –Ω–µ —Ä–∞–∑–¥—É–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –∫–æ–¥–∞.
- **–ß–∞—Å—Ç–æ—Ç–∞ –≤—ã–∑–æ–≤–∞**. –ú–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —á–∞—Å—Ç–æ (–ø–æ –ø—Ä–æ—Ñ–∏–ª—é), –±–æ–ª–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã –¥–ª—è –∏–Ω–ª–∞–π–Ω–∞ –≤ –≥–æ—Ä—è—á–µ–º –∫–æ–¥–µ.
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –º–µ—Ç–æ–¥–∞**. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, getter‚Äô—ã/setter‚Äô—ã, –æ–±—ë—Ä—Ç–∫–∏ –∏ –¥—Ä—É–≥–∏–µ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è. JIT —Ç–∞–∫–∂–µ —Å—Ç–∞—Ä–∞–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–∏—Ç—å –º–µ—Ç–æ–¥—ã, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∫–∞–∫ final (–Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ) –∏–ª–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ, –ø–æ—Å–∫–æ–ª—å–∫—É –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ.
- **–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –≤—ã–∑–æ–≤—ã** –æ–±—ã—á–Ω–æ **–Ω–µ –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è**, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è.
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –ø–∞–º—è—Ç–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º**. HotSpot –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –æ–±—â—É—é –≥–ª—É–±–∏–Ω—É –∏ —Å—É–º–º–∞—Ä–Ω—ã–π –æ–±—ä—ë–º –∏–Ω–ª–∞–π–Ω–æ–≤ –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ —Ä–∞—Å—Ö–æ–¥–∞ Code Cache.

–ü—É—Å—Ç—å —É –Ω–∞—Å –µ—Å—Ç—å –ø—Ä–æ—Å—Ç–æ–π –º–µ—Ç–æ–¥:

```java
int add(int a, int b) {
    return a + b;
}

int computeSum(int x, int y) {
    return add(x, y) + 5;
}
```

–ü—Ä–∏ JIT-–∫–æ–º–ø–∏–ª—è—Ü–∏–∏ `computeSum` –º–µ—Ç–æ–¥ `add` –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω. –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –≤–º–µ—Å—Ç–æ –≤—ã–∑–æ–≤–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–ª–æ–∂–µ–Ω–∏–µ `x + y`, –∏ –∑–∞—Ç–µ–º –ø—Ä–∏–±–∞–≤–ª—è–µ—Ç—Å—è 5. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤—ã–∑–æ–≤ —É—Å—Ç—Ä–∞–Ω—ë–Ω. –ï—Å–ª–∏ `x` –∏ `y` –±—ã–ª–∏ –±—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏, —Ç–æ –ø–æ—Å–ª–µ inline –∏ —Å–ª–æ–∂–µ–Ω–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–º–æ–≥ –±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–µ —Å–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å—ë –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É (—Å–º. —Ä–∞–∑–¥–µ–ª 6).


## 5.2. Cascade optimizations

–ü–æ—Å–ª–µ inline —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–æ–∑–º–æ–∂–µ–Ω –∫–∞—Å–∫–∞–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π (–º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏—Ö –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ä–∞–∑–¥–µ–ª–µ)

- Constant Folding (—Å–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç)
- Dead Code Elimination (—É–¥–∞–ª–µ–Ω–∏–µ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞)
- Common Subexpression Elimination (—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—â–∏—Ö –ø–æ–¥–≤—ã—Ä–∞–∂–µ–Ω–∏–π)
- Loop Optimizations (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–µ—Ç–≤–ª–µ–Ω–∏–π/—Ü–∏–∫–ª–æ–≤)
- Escape Analysis (–∞–Ω–∞–ª–∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–æ–≤)

<details>
<summary><strong>üìò –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</strong></summary>

1. –ß—Ç–æ —Ç–∞–∫–æ–µ inlining –∏ –∫–∞–∫–∏—Ö —Ü–µ–ª–µ–π —Å—Ç—Ä–µ–º–∏—Ç—Å—è –¥–æ–±–∏—Ç—å—Å—è JVM, –≤—Å—Ç—Ä–∞–∏–≤–∞—è –æ–¥–∏–Ω –º–µ—Ç–æ–¥ –≤ –¥—Ä—É–≥–æ–π?
2. –ü–æ –∫–∞–∫–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º JIT-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Ä–µ—à–∞–µ—Ç, –±—É–¥–µ—Ç –ª–∏ –º–µ—Ç–æ–¥ –≤—Å—Ç—Ä–æ–µ–Ω –≤–º–µ—Å—Ç–æ –≤—ã–∑–æ–≤–∞?
3. –ü–æ—á–µ–º—É inlining —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ ¬´—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è¬ª –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è JIT? –ö–∞–∫–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –º–µ—Ç–æ–¥ –∑–∞–∏–Ω–ª–∞–π–Ω–µ–Ω?
4. –ú–æ–≥—É—Ç –ª–∏ –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã –∏–ª–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –±—ã—Ç—å –∑–∞–∏–Ω–ª–∞–π–Ω–µ–Ω—ã? –ï—Å–ª–∏ –Ω–µ—Ç, —Ç–æ –ø–æ—á–µ–º—É?

</details>

---

# 6. –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ JIT

–ü–æ–º–∏–º–æ –∏–Ω–ª–∞–π–Ω–∏–Ω–≥–∞, HotSpot JIT –ø—Ä–∏–º–µ–Ω—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–¥ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Å—Ä–µ–¥—É. –ù–∏–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –∫–ª—é—á–µ–≤—ã–µ –∏–∑ –Ω–∏—Ö:

## 6.1. –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–µ —Å–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ (Constant Folding)

**–ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–µ —Å–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ** ‚Äì —ç—Ç–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. JIT, –ø–æ–ª—É—á–∏–≤ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –≤—Å–µ –æ–ø–µ—Ä–∞–Ω–¥—ã –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è—é—Ç—Å—è –∏–∑–≤–µ—Å—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏, —Å—Ä–∞–∑—É –≤—ã—á–∏—Å–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –¥–µ–ª–∞—Ç—å —ç—Ç–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏.

–ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç JIT:

- **–õ–∏—Ç–µ—Ä–∞–ª—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã—Ä–∞–∂–µ–Ω–∏–µ `int a = 2 * 5;` –±—É–¥–µ—Ç —Å–≤—ë—Ä–Ω—É—Ç–æ –≤ `int a = 10;` –µ—â—ë –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –±–∞–π—Ç–∫–æ–¥–∞ `javac`.
- **–§–∏–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∏ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ**. –ï—Å–ª–∏ –º–µ—Ç–æ–¥ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ static final –ø–æ–ª—é, –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –∏–∑–≤–µ—Å—Ç–Ω–æ, JIT –º–æ–∂–µ—Ç –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä—è–º–æ –≤ –∫–æ–¥. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –µ—Å–ª–∏ –ø–æ—Å–ª–µ –∏–Ω–ª–∞–π–Ω–∞ –≤—ã—è—Å–Ω—è–µ—Ç—Å—è, —á—Ç–æ –∞—Ä–≥—É–º–µ–Ω—Ç –º–µ—Ç–æ–¥–∞ –≤—Å–µ–≥–¥–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–π, –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–µ–≥–æ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω—ã –∑–∞—Ä–∞–Ω–µ–µ.
- **–ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–æ—â–µ–Ω–∏—è**. –í—ã—Ä–∞–∂–µ–Ω–∏—è –≤—Ä–æ–¥–µ `x * 1`, `x + 0`, `x << 0` –∏ —Ç.–ø. JIT —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –∏ —É–ø—Ä–æ—â–∞–µ—Ç –¥–æ `x`. –¢–∞–∫–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —á–∞—Å—Ç–∏—á–Ω–æ –¥–µ–ª–∞–µ—Ç –∏ `javac`, –Ω–æ JIT –º–æ–∂–µ—Ç –∏—Ö –ø–æ–≤—Ç–æ—Ä–∏—Ç—å/—É—Å–∏–ª–∏—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

> –í–∞–∂–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: JIT –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤—ë—Ä—Ç–∫—É —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –Ω–µ –º–µ–Ω—è–µ—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–Ω –Ω–µ –±—É–¥–µ—Ç –∑–∞—Ä–∞–Ω–µ–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –º–µ—Ç–æ–¥, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã, –¥–∞–∂–µ –µ—Å–ª–∏ –º–µ—Ç–æ–¥ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ. –ù–æ –≤ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏ (–∏–Ω–ª–∞–π–Ω–æ–º, –∞–Ω–∞–ª–∏–∑–æ–º –∏ —Ç.–¥.) —á–∞—Å—Ç–æ –æ–±—Ä–∞–∑—É—é—Ç—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã, –≥–¥–µ –≤–∏–¥–Ω—ã —á–∏—Å—Ç—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –∏ —Ç–æ–≥–¥–∞ –æ–Ω–∏ —Å–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è.

## 6.2 Dead Code Elimination (—É–¥–∞–ª–µ–Ω–∏–µ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞)

**–£–¥–∞–ª–µ–Ω–∏–µ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞** ‚Äì —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –¥–∞–ª—å–Ω–µ–π—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã. JIT –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ –∏ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –¥–≤–∞ —Å–ª—É—á–∞—è:

- **–ù–µ–≤—ã–ø–æ–ª–Ω—è–µ–º—ã–π –∫–æ–¥**. –§—Ä–∞–≥–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ —Å–≤—ë—Ä—Ç–∫–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å—Å—è —É—Å–ª–æ–≤–∏–µ if (false) { ... }. JIT —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç, —á—Ç–æ –≤–µ—Ç–∫–∞ –≤—Å–µ–≥–¥–∞ –ª–æ–∂–Ω–∞—è, –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–∫–∏–Ω–µ—Ç –∫–æ–¥ –≤–Ω—É—Ç—Ä–∏ –Ω–µ—ë. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, —Ü–∏–∫–ª—ã —Å –∏–∑–≤–µ—Å—Ç–Ω—ã–º –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —É—Å–ª–æ–≤–∏–µ–º 0 –∏—Ç–µ—Ä–∞—Ü–∏–π –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.
- **–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**. –≠—Ç–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —á—å—ë –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–æ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º–µ—Ç–æ–¥ –ª–æ–∫–∞–ª—å–Ω–æ –≤—ã—á–∏—Å–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –Ω–∏ –≤ –ø–æ–ª–µ, –Ω–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç, –∏ –æ–Ω–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã ‚Äì —Ç–∞–∫–æ–π –∫—É—Å–æ–∫ —Ä–∞–±–æ—Ç—ã –º–æ–∂–Ω–æ –≤—ã–±—Ä–æ—Å–∏—Ç—å. –ß–∞—Å—Ç–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è—Ö: –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω–ª–∞–π–Ω –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –º–æ–≥—É—Ç —Å–¥–µ–ª–∞—Ç—å –≤–∏–¥–∏–º—ã–º, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∏–∫–æ–º—É –Ω–µ –Ω—É–∂–µ–Ω

> HotSpot —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö (Data Flow Graph) –∏ —É–¥–∞–ª—è–µ—Ç —É–∑–ª—ã, –Ω–µ –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –≤–∏–¥–∏–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –≠—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ —É–±–∏—Ä–∞–µ—Ç –ª–∏—à–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –Ω–æ –∏ –º–æ–∂–µ—Ç –æ–≥–æ–ª—è—Ç—å –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π.

## 6.3 Common Subexpression Elimination (—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—â–∏—Ö –ø–æ–¥–≤—ã—Ä–∞–∂–µ–Ω–∏–π)

–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—â–∏—Ö –ø–æ–¥–≤—ã—Ä–∞–∂–µ–Ω–∏–π ‚Äì –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑, –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –º–µ—Ç–æ–¥:

```java
int compute(int a, int b) {
    int x = a * b + 10;
    int y = a * b + 20;
    return x + y;
}
```

–ó–¥–µ—Å—å –ø–æ–¥–≤—ã—Ä–∞–∂–µ–Ω–∏–µ `a * b` –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –≤—ã–ø–æ–ª–Ω–∏–ª –±—ã —É–º–Ω–æ–∂–µ–Ω–∏–µ –¥–≤–∞ —Ä–∞–∑–∞. JIT –∂–µ –ø—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç `a * b` –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º–∏. –û–Ω –º–æ–∂–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `a * b` –Ω–∞ —Å—Ç–µ–∫–µ –æ–¥–∏–Ω —Ä–∞–∑, –∞ –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è `x` –∏ `y`. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –æ–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è —É–º–Ω–æ–∂–µ–Ω–∏—è –±—É–¥–µ—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞, –∏ –Ω–∞–≥—Ä—É–∑–∫–∞ —É–º–µ–Ω—å—à–∏—Ç—Å—è.

HotSpot —Ä–µ–∞–ª–∏–∑—É–µ—Ç —ç—Ç—É –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º **GVN (Global Value Numbering)** ‚Äì –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –Ω—É–º–µ—Ä–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π. –ü–æ —Å—É—Ç–∏, –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω ¬´–Ω–æ–º–µ—Ä¬ª, –∏ –æ–Ω–∏ —Å—Ö–ª–æ–ø—ã–≤–∞—é—Ç—Å—è –≤ –µ–¥–∏–Ω–æ–µ. –ö–æ–Ω–µ—á–Ω–æ, JIT —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã: –µ—Å–ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ –∏–ª–∏ —á—Ç–µ–Ω–∏–µ –∏–∑ –ø–∞–º—è—Ç–∏, –æ–Ω –¥–æ–ª–∂–µ–Ω —É–¥–æ—Å—Ç–æ–≤–µ—Ä–∏—Ç—å—Å—è, —á—Ç–æ –Ω–∞ –≤—Ç–æ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å. –ü–æ—ç—Ç–æ–º—É CSE –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ —á–∏—Å—Ç—ã–º –ø–æ–¥–≤—ã—Ä–∞–∂–µ–Ω–∏—è–º –∏–ª–∏ —Ç–µ–º, —á—å—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞.

## 6.4 Escape Analysis (–∞–Ω–∞–ª–∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–æ–≤)

Escape Analysis ‚Äì –º–µ—Ö–∞–Ω–∏–∑–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π JIT –ø–æ–Ω—è—Ç—å, –º–æ–∂–µ—Ç –ª–∏ –æ–±—ä–µ–∫—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞, –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞. –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –Ω–µ ¬´—É–±–µ–≥–∞–µ—Ç¬ª –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Ç–æ–¥–∞, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç —Å–∏–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª.

–û–±—ä–µ–∫—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è escape-–æ–±—ä–µ–∫—Ç–æ–º, –µ—Å–ª–∏:

- –û–Ω –∑–∞–ø–∏—Å–∞–Ω –≤ –ø–æ–ª–µ –∫–∞–∫–æ–≥–æ-—Ç–æ –æ–±—ä–µ–∫—Ç–∞ (—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–µ–Ω –≤–Ω–µ —Ç–µ–∫—É—â–µ–≥–æ stack frame).
- –ü–µ—Ä–µ–¥–∞–Ω –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –≤ –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥ (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥ –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –∫—É–¥–∞-—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω–æ).
- –í–æ–∑–≤—Ä–∞—â—ë–Ω –∏–∑ –º–µ—Ç–æ–¥–∞ (escape –≤ –≤—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥).

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –∏–∑ —ç—Ç–æ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ, –æ–±—ä–µ–∫—Ç –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ –º–µ—Ç–æ–¥–∞, –∏ JIT –≤–∏–¥–∏—Ç, —á—Ç–æ –µ–≥–æ scope –æ–≥—Ä–∞–Ω–∏—á–µ–Ω. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –≤–æ–∑–º–æ–∂–Ω—ã –¥–≤–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **–†–∞–∑–º–µ—â–µ–Ω–∏–µ –Ω–∞ —Å—Ç–µ–∫–µ (stack allocation).** –í–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –≤ –∫—É—á–µ (Heap) –∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–±–æ—Ä–∞ GC, –æ–±—ä–µ–∫—Ç –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–Ω–∞ —Å—Ç–µ–∫–µ). –ü–æ —Å—É—Ç–∏, JIT —Ä–∞–∑–ª–æ–∂–∏—Ç –ø–æ–ª—è –æ–±—ä–µ–∫—Ç–∞ –Ω–∞ –ø—Ä–∏–º–∏—Ç–∏–≤—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±—ä–µ–∫—Ç `Point{x, y}` —Å –¥–≤—É–º—è —á–∏—Å–ª–∞–º–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω—ë–Ω –¥–≤—É–º—è –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ int-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **Scalar Replacement** (—Ä–∞–∑–±–∏–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –Ω–∞ —Å–∫–∞–ª—è—Ä—ã). –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤–æ–æ–±—â–µ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –≤ –∫—É—á–µ, –∏ —Å–±–æ—Ä—â–∏–∫—É –º—É—Å–æ—Ä–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç—ã –ø–æ —ç—Ç–æ–º—É –æ–±—ä–µ–∫—Ç—É.
2. **–£–¥–∞–ª–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**. –ï—Å–ª–∏ –º–µ—Ç–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–ª–æ–∫ –Ω–∞ –æ–±—ä–µ–∫—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —É—Ö–æ–¥–∏—Ç –∏–∑ –º–µ—Ç–æ–¥–∞, —Ç–æ –Ω–∏–∫–∞–∫–æ–π –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –∫ –Ω–µ–º—É –¥–æ—Å—Ç—É–ø. JIT –ø–æ–Ω–∏–º–∞–µ—Ç —ç—Ç–æ –∏ –º–æ–∂–µ—Ç —É–±—Ä–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ª–æ–∫/–∞–Ω–ª–æ–∫ –º–æ–Ω–∏—Ç–æ—Ä–∞, –æ—Å—Ç–∞–≤–∏–≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é —Å–µ–∫—Ü–∏—é –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (eliminate locks –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–µ –ø–æ–∫–∏–¥–∞—é—â–∏—Ö –ø–æ—Ç–æ–∫).

## 6.5. Loop Optimizations (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ü–∏–∫–ª–æ–≤)

JIT-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Ü–∏–∫–ª–∞–º–∏:

–ü—Ä–∏–º–µ—Ä loop peeling (–∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏):

- **Loop Unrolling** (—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ —Ü–∏–∫–ª–æ–≤). –ï—Å–ª–∏ —Ü–∏–∫–ª –∏–º–µ–µ—Ç –Ω–µ–±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ –∏—Ç–µ—Ä–∞—Ü–∏–π –∏–ª–∏ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç "—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å" —Ü–∏–∫–ª ‚Äì –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–ª–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∏ —É–º–µ–Ω—å—à–∏—Ç—å —á–∏—Å–ª–æ –∏—Ç–µ—Ä–∞—Ü–∏–π. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ —É–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ –≥—Ä–∞–Ω–∏—Ü —Ü–∏–∫–ª–∞ –∏ —É—Å–ª–æ–≤–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, —É–≤–µ–ª–∏—á–∏–≤–∞—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–æ–ª–µ–∑–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
- **Loop-Invariant Code Motion** (–≤—ã–Ω–æ—Å –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤). –ö–æ–¥ –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ü–∏–∫–ª–∞, –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–Ω–µ—Å–µ–Ω –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ü–∏–∫–ª–∞. JIT –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–ª–æ —Ü–∏–∫–ª–∞ –∏ –µ—Å–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏, –æ–Ω –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç —ç—Ç–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ü–∏–∫–ª–æ–º, —Å–æ—Ö—Ä–∞–Ω—è—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∏ –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞ –∑–∞–º–µ–Ω—è–µ—Ç –Ω–∞ —É–∂–µ –≥–æ—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –≠—Ç–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É, –≤—ã–ø–æ–ª–Ω—è–µ–º—É—é –≤ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏.
- **–£–¥–∞–ª–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö —Ü–∏–∫–ª–æ–≤ –∏ –ø—Ä–µ–¥—Ä–∞—Å—á—ë—Ç –∏—Ç–µ—Ä–∞—Ü–∏–π**. –ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è, —á—Ç–æ —Ü–∏–∫–ª –Ω–µ –¥–µ–ª–∞–µ—Ç –Ω–∏—á–µ–≥–æ –∑–Ω–∞—á–∏–º–æ–≥–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–ª–∏ —Ü–∏–∫–ª –∏–º–µ–µ—Ç –Ω—É–ª–µ–≤—É—é –¥–ª–∏–Ω—É), JIT —É–¥–∞–ª–∏—Ç –µ–≥–æ –≤–æ–≤—Å–µ (—ç—Ç–æ —á–∞—Å—Ç–Ω—ã–π —Å–ª—É—á–∞–π dead code elimination, –Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ —Ü–∏–∫–ª–∞–º). –¢–∞–∫–∂–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Å—Ç—ã–µ —Ü–∏–∫–ª—ã —Å –∑–∞—Ä–∞–Ω–µ–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–º —á–∏—Å–ª–æ–º –ø–æ–≤—Ç–æ—Ä–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ–º –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ—ç–ª–µ–º–µ–Ω—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏).

<details>
<summary><strong>üìò –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</strong></summary>

1. –ß—Ç–æ —Ç–∞–∫–æ–µ constant folding? –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ JIT —Å–ø–æ—Å–æ–±–µ–Ω —Å–≤—ë—Ä—Ç—ã–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –Ω–∞ —ç—Ç–∞–ø–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
2. –í –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö —É—á–∞—Å—Ç–æ–∫ –∫–æ–¥–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –º—ë—Ä—Ç–≤—ã–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª—ë–Ω –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º?
3. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—â–∏—Ö –ø–æ–¥–≤—ã—Ä–∞–∂–µ–Ω–∏–π (CSE) –∏ –ø–æ—á–µ–º—É –¥–ª—è –µ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤–∞–∂–Ω–∞ –≥–∞—Ä–∞–Ω—Ç–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤?
4. –ß—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å escape analysis –∏ –∫–∞–∫–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ–Ω –≤–∫–ª—é—á–∞–µ—Ç (—á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –æ–±—ä–µ–∫—Ç–∞–º–∏, –Ω–µ ¬´—É–±–µ–≥–∞—é—â–∏–º–∏¬ª –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –º–µ—Ç–æ–¥–∞)?

</details>

---

# 7. Method Caller Dispatcher (–º–µ—Ö–∞–Ω–∏–∑–º –≤—ã–∑–æ–≤–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π)

–ö–æ–≥–¥–∞ –º–µ—Ç–æ–¥ –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–Ω–∞—á–∞–ª–∞ C1, –ø–æ—Ç–æ–º C2, –∏–ª–∏ OSR-–≤–µ—Ä—Å–∏—è –¥–ª—è —Å–µ—Ä–µ–¥–∏–Ω—ã —Ü–∏–∫–ª–∞), –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º–∞: –∫–∞–∫ –≤—ã–∑—ã–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –º–µ—Ç–æ–¥–∞ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ –∫–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏. JVM —Ä–µ—à–∞–µ—Ç —ç—Ç—É –∑–∞–¥–∞—á—É —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏–∏ –≤—ã–∑–æ–≤–æ–≤.

## 7.1. –ò–¥–µ—è: —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –º–µ—Ç–æ–¥–∞ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π

–ü–æ —Å—É—Ç–∏, —É –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞ –≤ HotSpot –µ—Å—Ç—å —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (entry point), –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è –ø–æ —Ö–æ–¥—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã:

- –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —à–∞–±–ª–æ–Ω –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ (Interpreter entry).
- –ö–æ–≥–¥–∞ JIT —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª –º–µ—Ç–æ–¥, JVM –ø–µ—Ä–µ–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤—ã–∑–æ–≤—ã –Ω–∞ –∞–¥—Ä–µ—Å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–∞—à–∏–Ω–Ω–æ–≥–æ –∫–æ–¥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ç–∞–±–ª–∏—Ü–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞ –∏–ª–∏ –≤ inline-cache –ø–æ –º–µ—Å—Ç—É –≤—ã–∑–æ–≤–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é.
- Method Caller Dispatcher ‚Äì –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ—à–∞–µ—Ç, –∫–∞–∫—É—é –≤–µ—Ä—Å–∏—é –≤—ã–∑–≤–∞—Ç—å. –ò–Ω–æ–≥–¥–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—É—é –≤—Å—Ç–∞–≤–∫—É (stub) –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞: stub –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–µ—Ç –ª–∏ –≥–æ—Ç–æ–≤–æ–≥–æ JIT-–∫–æ–¥–∞ –¥–ª—è –º–µ—Ç–æ–¥–∞, –∏ –µ—Å–ª–∏ –µ—Å—Ç—å ‚Äì –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –Ω–µ–≥–æ. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ stub –º–æ–∂–µ—Ç –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Å–µ–±—è (self-patching) –Ω–∞ –ø—Ä—è–º–æ–π –ø–µ—Ä–µ—Ö–æ–¥ —Å—Ä–∞–∑—É –≤ JIT, —á—Ç–æ–±—ã –Ω–µ –¥–µ–ª–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∫–∞–∂–¥—ã–π —Ä–∞–∑.

–≠—Ç–∞ –≥–∏–±–∫–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∫—Ä—ã—Ç–æ –≤–Ω—É—Ç—Ä–∏ JVM: —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –≤–∏–¥–∏—Ç, —á—Ç–æ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –º–µ—Ç–æ–¥ –º–æ–≥ –¥–µ—Å—è—Ç—å —Ä–∞–∑ –ø–æ–º–µ–Ω—è—Ç—å —Å–ø–æ—Å–æ–± –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –≤—ã–∑–æ–≤–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∞–º–∞—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, **Method Caller Dispatcher** ‚Äì —ç—Ç–æ –æ–±—â–∏–π —Ç–µ—Ä–º–∏–Ω –¥–ª—è —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–∏—ë–º–æ–≤ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—ã–∑–æ–≤–æ–≤, —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –∏ —Ç.–¥.), –∫–æ—Ç–æ—Ä—ã–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ –Ω–∞ –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∫–æ–¥. –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É JVM –º–æ–∂–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã, –∞ –≤—Å–µ –≤—ã–∑–æ–≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏–Ω–∞—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–ª—É—á—à–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –±–∞–π—Ç–∫–æ–¥–µ.

<details>
<summary><strong>üìò –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</strong></summary>

1. –ö–∞–∫ JVM –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–∞ –Ω–∞ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –ø–æ—Å–ª–µ JIT-–∫–æ–º–ø–∏–ª—è—Ü–∏–∏?
2. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –≤—ã–∑–æ–≤–∞–º–∏ –º–µ—Ç–æ–¥–∞ (–ø–æ –∞–¥—Ä–µ—Å–∞–º –≤ –ø–∞–º—è—Ç–∏), –∫–æ–≥–¥–∞ –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—É—é, –±–æ–ª–µ–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é?
3. –ü–æ—á–µ–º—É —É –º–µ—Ç–æ–¥–∞ –º–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π –∫–æ–¥–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (C1, C2, OSR) –∏ –∫–∞–∫ JVM —Ä–µ—à–∞–µ—Ç, –∫–∞–∫—É—é –∏–∑ –Ω–∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ –≤—ã–∑–æ–≤–µ?
4. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç JVM, –µ—Å–ª–∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –º–µ—Ç–æ–¥–∞ —É—Å—Ç–∞—Ä–µ–≤–∞–µ—Ç –∏–ª–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–≤–µ—Ä–Ω—ã–º –∏–∑-–∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å, –≤–ª–∏—è—é—â–∏–π –Ω–∞ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)?

</details>

