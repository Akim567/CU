## –í–≤–µ–¥–µ–Ω–∏–µ: –∑–∞—á–µ–º Optional –∏ Stream API

–í –ø—Ä–µ–¥—ã–¥—É—â–µ–π –ª–µ–∫—Ü–∏–∏ –º—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏ **–ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è** ‚Äî —Å–ø–æ—Å–æ–± –∫–æ–º–ø–∞–∫—Ç–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã. –≠—Ç–æ –æ—Ç–∫—Ä—ã–ª–æ –ø—É—Ç—å –∫ –¥—Ä—É–≥–∏–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º Java, –∫–æ—Ç–æ—Ä—ã–µ –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–∞–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: `Stream`, `Optional`, –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã `Map` –∏ `List`, `Comparator`, `Collectors`.

–í —ç—Ç–æ–º –∫–æ–Ω—Å–ø–µ–∫—Ç–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–≤–∞ –∫–ª—é—á–µ–≤—ã—Ö –∫–ª–∞—Å—Å–∞, –ø–æ—è–≤–∏–≤—à–∏—Ö—Å—è —Å –ø—Ä–∏—Ö–æ–¥–æ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∏–ª—è:
- `Optional<T>` ‚Äî –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ –∑–Ω–∞—á–µ–Ω–∏–µ–º –∏–ª–∏ –µ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º, –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ `null`
- `Stream<T>` ‚Äî –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–π

–ù–∞—á–Ω–µ–º —Å Optional –∏ –ø—Ä–æ–±–ª–µ–º—ã `null`.

## Optional: –ø—Ä–æ–±–ª–µ–º–∞—Ç–∏–∫–∞ null –∏ –µ–µ —Å–ø–æ—Å–æ–± —Ä–µ—à–µ–Ω–∏—è

### ‚ùó –ü—Ä–æ–±–ª–µ–º–∞: `null` –∏ NPE

–î–æ Java 8 –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å `null`, –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –ø–∏—Å–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

```java
void printUserLastName() {
    User user = userRepository.findById(42L);
    if (user != null) {
        Name name = user.getName();
        if (name != null) {
            String lastName = name.getLastName();
            System.out.println(lastName == null ? "no last name" : lastName);
        }
    }
}
```

–¢–∞–∫–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
- –ø–ª–æ—Ö–æ —á–∏—Ç–∞—é—Ç—Å—è;
- –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ;
- –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –∑–∞—â–∏—Ç—É –æ—Ç `NullPointerException`.

---

### ‚úÖ –†–µ—à–µ–Ω–∏–µ: `Optional`

`Optional<T>` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã—Ä–∞–∑–∏—Ç—å **–≤–æ–∑–º–æ–∂–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è** —á–µ—Ä–µ–∑ —è–≤–Ω—ã–π —Ç–∏–ø.

```java
void printUserLastName() {
    Optional<String> lastName = userRepository.findById(42L)
        .flatMap(User::getName)      // Optional<Name>
        .flatMap(Name::getLastName); // Optional<String>

    System.out.println(lastName.orElse("no last name"));
}
```

–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥:
- –¥–µ–ª–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è **—Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º**;
- —É–ø—Ä–æ—â–∞–µ—Ç —Ü–µ–ø–æ—á–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —á–µ—Ä–µ–∑ `map`, `flatMap`, `orElse`;
- —Å–Ω–∏–º–∞–µ—Ç —á–∞—Å—Ç—å –Ω–∞–≥—Ä—É–∑–∫–∏ —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ ‚Äî —Ç–µ–ø–µ—Ä—å `null` –º–æ–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –≤ `Optional` –∏ —Å–¥–µ–ª–∞—Ç—å —á–∞—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.

---

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã Optional

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–±—Ä–∏–∫–∏

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è `Optional` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

```java
Optional.of(value);       // –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å null
Optional.ofNullable(value); // –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å null
Optional.empty();         // –ø—É—Å—Ç–æ–π Optional
```

| –ú–µ—Ç–æ–¥                | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                        |
|---------------------|---------------------------------------------------|
| `Optional.of(...)`  | –û–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç **–Ω–µ-null** –∑–Ω–∞—á–µ–Ω–∏–µ. `null` ‚Üí NPE    |
| `Optional.ofNullable(...)` | –û–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –¥–æ–ø—É—Å–∫–∞—é—â–µ–µ `null`         |
| `Optional.empty()`  | –°–æ–∑–¥–∞—ë—Ç –ø—É—Å—Ç–æ–π Optional                           |


#### `.filter(Predicate<? super T> predicate)`

–ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç –ø—Ä–µ–¥–∏–∫–∞—Ç—É ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—Ç –∂–µ `Optional`. –ò–Ω–∞—á–µ ‚Äî `Optional.empty()`.

```java
Optional<Integer> optional = Optional.of(42);

var even = optional.filter(x -> x % 2 == 0); // Optional[42]
var odd  = optional.filter(x -> x % 2 == 1); // Optional.empty
```

---

#### `.map(Function<? super T, ? extends U> mapper)`

–ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –Ω–æ–≤–æ–º `Optional`.

```java
Optional<Integer> maybeInt = Optional.of("123").map(Integer::parseInt);
// Optional[123]
```

---

#### `.flatMap(Function<? super T, ? extends Optional<? extends U>> mapper)`

–ê–Ω–∞–ª–æ–≥ `.map()`, –Ω–æ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Optional`, –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ ¬´–≤–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è¬ª –≤–Ω—É—Ç—Ä—å –≤—Ç–æ—Ä–æ–≥–æ Optional.

```java
Optional<Optional<Name>> name = userRepository.getById(42L).map(User::getName);
Optional<Name> name2 = userRepository.getById(42L).flatMap(User::getName);
```

–†–∞–∑–Ω–∏—Ü–∞:
- `map` ‚Üí `Optional<Optional<T>>`
- `flatMap` ‚Üí `Optional<T>`

---

#### `.orElse(...)` / `.orElseGet(...)` / `.orElseThrow(...)`

| –ú–µ—Ç–æ–¥              | –ü–æ–≤–µ–¥–µ–Ω–∏–µ |
|-------------------|-----------|
| `orElse(T other)`   | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç **–≥–æ—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ** |
| `orElseGet(Supplier<? extends T> supplier)` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –≤—ã–∑—ã–≤–∞–µ—Ç **Supplier**          |
| `orElseThrow(Supplier<? extends X> exceptionSupplier)`   | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ         |

##### –ü—Ä–∏–º–µ—Ä:

```java
User user = userRepository.findById(42L).orElse(defaultUser);

User user2 = userRepository.findById(42L).orElseGet(this::getDefaultUser);

User user3 = userRepository.findById(42L).orElseThrow(UserNotFoundException::new);
```

> ‚ö†Ô∏è –í–∞–∂–Ω–æ: `orElse(...)` –≤—Å–µ–≥–¥–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. `orElseGet(...)` –≤—ã–∑—ã–≤–∞–µ—Ç Supplier **–ª–µ–Ω–∏–≤–æ**.

---

#### `.or(Supplier<? extends Optional<? extends T>> supplier)`

–ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –µ—Å—Ç—å ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–Ω–æ. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –±–µ—Ä—ë—Ç—Å—è `Optional` –æ—Ç Supplier.

```java
Optional<User> user = userRepository.findById(42L)
    .or(() -> adminRepository.findById(42L));
```

---

#### `.ifPresent(Consumer<? super T> action)` –∏ `.ifPresentOrElse(Consumer<? super T> action, Runnable emptyAction)`

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è.

```java
userRepository.findById(42L)
    .ifPresent(System.out::println);

userRepository.findById(42L)
    .ifPresentOrElse(
        System.out::println,
        () -> System.out.println("No user found!")
    );
```

---

#### `.isPresent()` –∏ `.isEmpty()`

–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è/–æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∑–Ω–∞—á–µ–Ω–∏—è:

```java
Optional.of(123).isPresent(); // true
Optional.of(123).isEmpty();   // false

Optional.ofNullable(null).isPresent(); // false
```

---

### –ö–æ–º–ø–æ–∑–∏—Ü–∏—è: —Ü–µ–ø–æ—á–∫–∏ Optional

–ú–µ—Ç–æ–¥—ã Optional –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫–æ–π, –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–æ–º. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è:

```java
String lastName = userRepository.findById(42L)
    .flatMap(User::getName)
    .flatMap(Name::getLastName)
    .orElse("no last name");
```

üìå –¢–∞–∫–æ–π —Å—Ç–∏–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç **–∏–∑–±–µ–∂–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö `if ( != null)`**, —É–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ —Å–¥–µ–ª–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ–π.

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ß–µ–º `Optional.of(...)` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `Optional.ofNullable(...)`?
2. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `map()` –∏ `flatMap()`? –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `flatMap()`?
3. –ö–æ–≥–¥–∞ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ifPresent(...)`, –∞ –∫–æ–≥–¥–∞ `orElse(...)`?

</details>

## Optional –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤: OptionalInt / OptionalLong / OptionalDouble

---

### üìå –ó–∞—á–µ–º –Ω—É–∂–Ω—ã Optional-–ø—Ä–∏–º–∏—Ç–∏–≤—ã

–û–±—ã—á–Ω—ã–π `Optional<Integer>` –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç `Integer` ‚Äî —Å—Å—ã–ª–æ—á–Ω—ã–π —Ç–∏–ø. –≠—Ç–æ –≤–ª–µ—á—ë—Ç –∑–∞ —Å–æ–±–æ–π:
- **boxing/unboxing** –ø—Ä–∏ –∫–∞–∂–¥–æ–º —á—Ç–µ–Ω–∏–∏ –∏–ª–∏ –∑–∞–ø–∏—Å–∏
- **–ª–∏—à–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã –≤ –∫—É—á–µ**, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–æ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ

–î–ª—è —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞–µ–≤ –±—ã–ª–∏ –≤–≤–µ–¥–µ–Ω—ã:
- `OptionalInt`
- `OptionalLong`
- `OptionalDouble`

–≠—Ç–∏ –∫–ª–∞—Å—Å—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Ö—Ä–∞–Ω–∏—Ç—å **–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–≥–æ —Ç–∏–ø–∞** –±–µ–∑ —É–ø–∞–∫–æ–≤–∫–∏, –∫–∞–∫ `int`, `long`, `double`.

---

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –∏ API

#### `OptionalInt`

```java
OptionalInt.empty();       // –ø—É—Å—Ç–æ–π
OptionalInt.of(42);        // —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ

OptionalInt optional = OptionalInt.of(42);

optional.isPresent();      // true
optional.isEmpty();        // false
optional.getAsInt();       // 42
optional.orElse(0);        // 42
optional.orElseGet(() -> -1); // 42
optional.orElseThrow();       // 42
optional.ifPresent(System.out::println); // 42
optional.ifPresentOrElse(System.out::println, () -> System.out.println("no value"));
```

---

#### `OptionalLong` –∏ `OptionalDouble`

–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã –ø–æ –ø–æ–≤–µ–¥–µ–Ω–∏—é, –Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å `long` –∏ `double`.

```java
OptionalLong opt = OptionalLong.of(123L);
long value = opt.orElse(0L);
```

```java
OptionalDouble opt = OptionalDouble.of(3.14);
double value = opt.orElse(0.0);
```

---

### üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Optional-–ø—Ä–∏–º–∏—Ç–∏–≤—ã?

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `OptionalInt`, `OptionalLong`, `OptionalDouble` –æ–ø—Ä–∞–≤–¥–∞–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö:

1. **–ö–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å**, –∏ –Ω—É–∂–Ω–æ —ç—Ç–æ **—è–≤–Ω–æ –≤—ã—Ä–∞–∑–∏—Ç—å** ‚Äî –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å ¬´–º–∞–≥–∏—á–µ—Å–∫–æ–µ¬ª –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Ä–æ–¥–µ `-1`, `Double.NaN` –∏–ª–∏ `Integer.MIN_VALUE`.

2. **–ö–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ Optional-–æ–±—ë—Ä—Ç–∫–∏ —Ö—Ä–∞–Ω—è—Ç –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ —É–ø–∞–∫–æ–≤–∫–∏, —á—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –∏ —ç–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å.

---

#### üÜö –ü—Ä–∏–º–µ—Ä –±–µ–∑ OptionalInt (–Ω–µ–Ω–∞–¥—ë–∂–Ω—ã–π —Å–ø–æ—Å–æ–±):

```java
int findMax(int[] array) {
    if (array.length == 0) return -1; // –ê –µ—Å–ª–∏ -1 ‚Äî –≤–∞–ª–∏–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ?
    int max = array[0];
    for (int i : array) {
        if (i > max) max = i;
    }
    return max;
}
```

–¢–∞–∫–æ–π –∫–æ–¥:
- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `-1` –ø—Ä–∏ –ø—É—Å—Ç–æ–º –º–∞—Å—Å–∏–≤–µ;
- –Ω–æ `-1` –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º;
- –≤—ã–∑—ã–≤–∞—é—â–∏–π –Ω–µ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∏—Ç—å "—Ä–µ–∞–ª—å–Ω—ã–π -1" –æ—Ç "–Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞".

---

#### ‚úÖ –ü—Ä–∏–º–µ—Ä —Å OptionalInt:

```java
OptionalInt findMax(int[] array) {
    if (array.length == 0) return OptionalInt.empty();
    int max = array[0];
    for (int i : array) {
        if (i > max) max = i;
    }
    return OptionalInt.of(max);
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```java
int max = findMax(array).orElseThrow(() -> new IllegalArgumentException("–ú–∞—Å—Å–∏–≤ –ø—É—Å—Ç"));
```

–∏–ª–∏

```java
findMax(array).ifPresentOrElse(
    m -> System.out.println("–ú–∞–∫—Å–∏–º—É–º: " + m),
    () -> System.out.println("–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –º–∞–∫—Å–∏–º—É–º–∞")
);
```

‚û°Ô∏è –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ **–Ω–∞–¥—ë–∂–Ω–µ–µ**, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è **—è–≤–Ω–æ**;
- –≤—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –æ–±—è–∑–∞–Ω **–æ–±—Ä–∞–±–æ—Ç–∞—Ç—å** —Å–∏—Ç—É–∞—Ü–∏—é –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∑–Ω–∞—á–µ–Ω–∏—è.

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `Optional<Integer>` –∏ `OptionalInt`?
2. –ü–æ—á–µ–º—É `OptionalInt` –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å `int`?
3. –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `OptionalLong`? –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç?

</details>

## ‚úÖ Optional: —Ö–æ—Ä–æ—à–∏–µ –∏ –ø–ª–æ—Ö–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### üö´ –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.get()` –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏

```java
Optional<String> name = Optional.empty();
String value = name.get(); // ‚ùå java.util.NoSuchElementException
```

–ú–µ—Ç–æ–¥ `.get()` –∫–∏–¥–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –ü–æ—ç—Ç–æ–º—É:
- ‚ùå **–ù–µ —Å–ª–µ–¥—É–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å `.get()` –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏**
- ‚úÖ –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `orElse(...)`, `orElseGet(...)`, `orElseThrow(...)`, `ifPresent(...)` –∏ –¥—Ä—É–≥–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã

---

### üö´ –ù–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `isPresent() + get()`

```java
Optional<Integer> optionalQuantity = ...;

if (optionalQuantity.isPresent()) {
    int quantity = optionalQuantity.get(); // –ª—É—á—à–µ –∏–∑–±–µ–≥–∞—Ç—å –ø–æ–¥–æ–±–Ω–æ–≥–æ
    System.out.println("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ = " + quantity);
} else {
    System.out.println("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ = " + 0);
}
```

‚úÖ –ì–æ—Ä–∞–∑–¥–æ –ª—É—á—à–µ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ:

```java
System.out.println("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ = " + optionalQuantity.orElse(0));
```

> `Optional` ‚Äî **–Ω–µ –∑–∞–º–µ–Ω–∞ `if`**, –∞ —Å—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏—è.

---

### ‚úÖ –û–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏

–î–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ —Ü–µ–ø–æ—á–µ–∫ –º–µ—Ç–æ–¥–æ–≤ (`map`, `flatMap`, `filter`) –ø—Ä–∏–Ω—è—Ç–æ **–∫–∞–∂–¥—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –ø–∏—Å–∞—Ç—å –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ**:

‚ùå –ü–ª–æ—Ö–æ:

```java
Optional<String> upperCaseName = maybeUser.map(User::getName).map(String::toUpperCase);
```

‚úÖ –õ—É—á—à–µ:

```java
Optional<String> upperCaseName = maybeUser
    .map(User::getName)
    .map(String::toUpperCase);
```

---

### ‚ö†Ô∏è –ì–¥–µ —É–º–µ—Å—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Optional

| ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å | üö´ –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|----------------|--------------------|
| –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥–æ–≤ |
| –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ  | –ü–æ–ª—è –∫–ª–∞—Å—Å–∞        |

#### –ü–æ—á–µ–º—É –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö?

```java
void update(Optional<String> name); // ‚ùå –ü–ª–æ—Ö–æ
```

- –ù–µ –¥–∞—ë—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å `null`
- –£—Å–ª–æ–∂–Ω—è–µ—Ç –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ (–æ–±—ë—Ä—Ç–∫–∞ + unwrap)
- –ù–∞—Ä—É—à–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–∞ (–≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ ¬´–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ¬ª)

‚úÖ –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É:

```java
void update(String name);           // –ø—Ä–∏–Ω–∏–º–∞–µ—Ç non null –∑–Ω–∞—á–µ–Ω–∏–µ
void update();                      // –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
```

---

#### –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –ø–æ–ª–µ –∫–ª–∞—Å—Å–∞?

```java
class User {
    Optional<Name> name; // ‚ùå –ø–ª–æ—Ö–æ
}
```

- `Optional` –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è **–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è** –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –º–æ–¥–µ–ª—è—Ö, DTO, —Å—É—â–Ω–æ—Å—Ç—è—Ö)
- –ø–ª–æ—Ö–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π (`Jackson`, `JPA`, –∏ —Ç.–ø.)
- –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å

‚úÖ –õ—É—á—à–µ:
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω–æ–µ –ø–æ–ª–µ (`Name name`) –∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –µ–≥–æ –≤ `Optional` —Ç–æ–ª—å–∫–æ –≤ –≥–µ—Ç—Ç–µ—Ä–µ:

```java
Optional<Name> getName() {
    return Optional.ofNullable(name);
}
```

---

### ‚ùå –ù–µ –ø–æ–¥–º–µ–Ω—è—Ç—å —Ç–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä

```java
// ‚ùå –¢–∞–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Optional –∏–∑–±—ã—Ç–æ—á–Ω–æ
String getValueOrDefault(String value, String defaultValue) {
    return Optional.ofNullable(value)
           .orElse(defaultValue);
}

// ‚úÖ –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä, —ç—Ç–æ –≥–æ—Ä–∞–∑–¥–æ –ø—Ä–æ—â–µ
String getValueOrDefault(String value, String defaultValue) {
    return value != null ? value : defaultValue;
}
```

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ü–æ—á–µ–º—É –Ω–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.get()` –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏?
2. –ß–µ–º `orElse(...)` –ª—É—á—à–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ `isPresent() + get()`?
3. –ö–æ–≥–¥–∞ `Optional` –Ω–µ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è?
4. –ü–æ—á–µ–º—É `Optional` –Ω–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –ø–æ–ª–µ –≤ –∫–ª–∞—Å—Å–µ?

</details>

## üåä –í–≤–µ–¥–µ–Ω–∏–µ –≤ Stream API –∏ –ª–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

---

### –ß—Ç–æ —Ç–∞–∫–æ–µ Stream

`Stream<T>` ‚Äî —ç—Ç–æ **–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö**, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (–∏ –Ω–µ —Ç–æ–ª—å–∫–æ) –≤ **–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–º —Å—Ç–∏–ª–µ**, –∏—Å–ø–æ–ª—å–∑—É—è —Ü–µ–ø–æ—á–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ `filter`, `map`, `sorted`, `collect`, –∏ —Ç.–¥.

–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ `Stream API`:
- **–û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ—Å—Ç—å**: `Stream` ‚Äî —ç—Ç–æ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö. –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ—Ç–æ–∫ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–æ—Ç—Ä–µ–±–ª—ë–Ω–Ω—ã–º –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –Ω–µ–ª—å–∑—è.
- **–õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è**: –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `filter`, `map`) –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –∞ —Ç–æ–ª—å–∫–æ –≤ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫—É –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞**: –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é `.parallel()`, –Ω–µ –º–µ–Ω—è—è –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏. (–û –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–∏–º–∞—Ö –≤ –∫–æ–Ω—Å–ø–µ–∫—Ç–µ —Ä–µ—á—å –Ω–µ –ø–æ–π–¥–µ—Ç.)
- **–û—Ç–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏**: `Stream` –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∏—Å—Ö–æ–¥–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é. –ü–æ—Ç–æ–∫ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—É—é –∑–∞–¥–∞—á—É –Ω–∞–¥ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –≤–ª–∏—è—è –Ω–∞ –Ω–µ–≥–æ.

---

### ‚ùó –ü—Ä–æ–±–ª–µ–º–∞: –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π

–î–æ Java 8, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π –≤—ã–≥–ª—è–¥–µ–ª–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```java
List<Integer> positiveItems(List<Integer> items) {
    List<Integer> positiveItems = new ArrayList<>();
    for (var item : items) {
        if (item % 2 == 0) {
            positiveItems.add(item);
        }
    }
    return positiveItems;
}
```

–¢–∞–∫–æ–π –∫–æ–¥:
- **–æ—â—É—â–∞–µ—Ç—Å—è –≥—Ä–æ–º–æ–∑–¥–∫–∏–º**;
- **—Ç—Ä—É–¥–Ω–æ —á–∏—Ç–∞–µ—Ç—Å—è**, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è—Ö;
- **—Å–ª–æ–∂–Ω–æ –∫–æ–º–ø–æ–Ω—É–µ—Ç—Å—è**, –µ—Å–ª–∏ –Ω—É–∂–Ω—ã –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏, –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –∏ —Ç.–¥.

---

### ‚úÖ –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Stream

```java
List<Integer> evenItems(List<Integer> items) {
    return items.stream()
        .filter(x -> x % 2 == 0)
        .toList();
}
```

–¢–∞–∫–æ–π –∫–æ–¥:
- –∫–æ–º–ø–∞–∫—Ç–µ–Ω –∏ **–ø–æ–Ω—è—Ç–µ–Ω –ø–æ —Å–º—ã—Å–ª—É** ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –∑–∞—Ç–µ–º —Å–±–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞;
- –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è: –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –¥—Ä—É–≥–∏–µ, –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏—Ö –¥–∞–ª–µ–µ.

üìå –ß–∏—Ç–∞–µ—Ç—Å—è —Ç–∞–∫: *¬´–ø—Ä–æ–π—Ç–∏ –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º, –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —á—ë—Ç–Ω—ã–µ, —Å–æ–±—Ä–∞—Ç—å –≤ —Å–ø–∏—Å–æ–∫¬ª*.

---

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Stream: –ø–æ—ç—Ç–∞–ø–Ω–æ

–†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–∏–º–æ–º —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö —ç—Ç–∞–ø–æ–≤:

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `.stream()` –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏)
2. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π** (`filter`, `map`, `sorted`, –∏ —Ç.–¥.)
3. **–ó–∞–ø—É—Å–∫ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏** (`toList`, `collect`, `forEach`, –∏ —Ç.–¥.)

```java
List<String> result = names.stream()    // 1. –∏—Å—Ç–æ—á–Ω–∏–∫
    .filter(s -> s.length() > 3)        // 2. –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
    .map(String::toUpperCase)           // 2. –µ—â—ë –æ–¥–Ω–∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è
    .toList();                          // 3. —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è ‚Üí –∑–∞–ø—É—Å–∫
```

---

### üîÄ –¢–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π –≤ Stream API

–û–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Å—Ç—Ä–∏–º–∞—Ö –¥–µ–ª—è—Ç—Å—è –Ω–∞:

| –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏          | –ü—Ä–∏–º–µ—Ä—ã                                             | –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞                      |
|-----------------------|-----------------------------------------------------|-------------------------------------|
| **–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ**     | `filter`, `map`, `flatMap`, `distinct`, `sorted`   | –õ–µ–Ω–∏–≤—ã–µ, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç Stream          |
| **–¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ**      | `toList`, `collect`, `count`, `forEach`, `reduce`  | –ó–∞–ø—É—Å–∫–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ü–µ–ø–æ—á–∫–∏        |

---

### –ß—Ç–æ —Ç–∞–∫–æ–µ –ª–µ–Ω–∏–≤–æ—Å—Ç—å –≤ Stream API

**–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (`filter`, `map`, –∏ —Ç.–¥.) –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É.** –û–Ω–∏ —Å–æ–∑–¥–∞—é—Ç —Ü–µ–ø–æ—á–∫—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä–∞—è **–Ω–µ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä**, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ **—Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è**.

Stream —Å—Ç—Ä–æ–∏—Ç **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–ª–∞–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏**, –∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—Ä–æ—Ö–æ–¥ –ø–æ –¥–∞–Ω–Ω—ã–º **–æ–¥–∏–Ω —Ä–∞–∑**, –ø—Ä–∏–º–µ–Ω—è—è –≤—Å—é —Ü–µ–ø–æ—á–∫—É –∫ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

---

### –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ

- **–û–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥**: –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (`filter`, `map`, –∏ –¥—Ä.) –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ —ç–ª–µ–º–µ–Ω—Ç—É **–Ω–∞ –ª–µ—Ç—É** –∏ –ø–æ –æ—á–µ—Ä–µ–¥–∏ ‚Äî —ç—Ç–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ, —á–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

- **–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±–µ–∑ –Ω–∞–ª–∏—á–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π**: –≤—ã–∑–æ–≤ `stream().filter(...).map(...)` –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç, –µ—Å–ª–∏ –Ω–µ—Ç `toList()`, `forEach()` –∏ –¥—Ä.

- **–û–ø–µ—Ä–∞—Ü–∏–∏ "–∫–æ—Ä–æ—Ç–∫–æ–≥–æ –∑–∞–º—ã–∫–∞–Ω–∏—è" (`short-circuit`)** —Ä–∞–±–æ—Ç–∞—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ: `limit(n)`, `findFirst()`, `anyMatch()` –º–æ–≥—É—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–∞–Ω—å—à–µ, –Ω–µ –ø—Ä–æ—Ö–æ–¥—è –≤—Å—é –∫–æ–ª–ª–µ–∫—Ü–∏—é.

- **–ú–æ–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –ø–æ—Ç–æ–∫–∏**, –æ–¥–Ω–∞–∫–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫ –Ω–∏–º –Ω–µ —Å—Ç–æ–∏—Ç, –ø–æ–∫–∞ –æ–Ω–∏ –Ω–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ –∫–æ–Ω–µ—á–Ω—ã–µ –ø–æ—Ç–æ–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π `.limit()`. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ —ç—Ç–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è (–∫–∞–∫ –≤ —Å–ª—É—á–∞–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ü–∏–∫–ª–∞).

---

### –ü—Ä–∏–º–µ—Ä –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```java
List<String> names = List.of("Ann", "Bob", "Charlotte", "Daniel");

List<String> result = names.stream()
    .filter(s -> {
        System.out.println("filter: " + s);
        return s.length() > 3;
    })
    .map(s -> {
        System.out.println("map: " + s);
        return s.toUpperCase();
    })
    .toList();
```

–í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –±—É–¥–µ—Ç:

```
filter: Ann
filter: Bob
filter: Charlotte
map: Charlotte
filter: Daniel
map: Daniel
```

üìå –û–ø–µ—Ä–∞—Ü–∏–∏ `filter` –∏ `map` –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è **–ø–æ –æ–¥–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –∑–∞ —Ä–∞–∑**, –≤ —Å—Ç—Ä–æ–≥–æ–º –ø–æ—Ä—è–¥–∫–µ. –ù–µ —Å–Ω–∞—á–∞–ª–∞ `filter` –∫–æ –≤—Å–µ–º, –ø–æ—Ç–æ–º `map` ‚Äî —ç—Ç–æ **–Ω–µ batch-–æ–±—Ä–∞–±–æ—Ç–∫–∞**, –∞ **—Ü–µ–ø–æ—á–∫–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π** –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Ö–æ–¥–µ.

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ß–µ–º –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å Stream API –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ?
2. –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç "–ª–µ–Ω–∏–≤–æ—Å—Ç—å" —Å—Ç—Ä–∏–º–æ–≤ –∏ –∫–æ–≥–¥–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è?
3. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º–∏ –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏?
4. –ü–æ—á–µ–º—É `Stream` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π?
5. –ü–æ—á–µ–º—É `stream().filter(...).map(...)` —Å–∞–º –ø–æ —Å–µ–±–µ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç?

</details>

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ Stream‚Äô–æ–≤

### –ì–¥–µ –±–µ—Ä—É—Ç—Å—è Stream‚Äô—ã

`Stream<T>` –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–∞–º –ø–æ —Å–µ–±–µ. –û–Ω **–≤—Å–µ–≥–¥–∞** —Å–æ–∑–¥–∞—ë—Ç—Å—è **–∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞**. –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –±—ã–≤–∞—é—Ç —Ä–∞–∑–Ω—ã–º–∏:

### ‚úÖ Stream –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

–°–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±:

```java
List<String> names = List.of("Ann", "Bob", "Charlie");
Stream<String> stream = names.stream();
```

üìå –í—Å–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Collection`, –∏–º–µ—é—Ç –º–µ—Ç–æ–¥ `.stream()`.

–¢–∞–∫–∂–µ –µ—Å—Ç—å `.parallelStream()` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫.

---

### ‚úÖ Stream –∏–∑ –º–∞—Å—Å–∏–≤–∞

```java
String[] array = {"a", "b", "c"};
Stream<String> stream = Arrays.stream(array);
```

–î–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∏–º—ã:

```java
int[] nums = {1, 2, 3};
IntStream intStream = Arrays.stream(nums);
```

---

### ‚úÖ Stream.of(...)

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ—Ç–æ–∫ –∏–∑ **—É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π**:

```java
Stream<String> stream = Stream.of("one", "two", "three");
```

---

### ‚úÖ Stream.empty()

–°–æ–∑–¥–∞—ë—Ç –ø—É—Å—Ç–æ–π –ø–æ—Ç–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):

```java
Stream<String> empty = Stream.empty();
```

---

### ‚úÖ Stream.generate(...)

–°–æ–∑–¥–∞—ë—Ç **–±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –ø–æ—Ç–æ–∫**, —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π:

```java
Stream<Double> randoms = Stream.generate(Math::random);
```

- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `Supplier<T>` ‚Äî –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ `get()` –¥–∞—ë—Ç —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç
- –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞
- –ü–æ—Ç–æ–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π ‚Äî –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `limit(...)`

```java
Stream.generate(Math::random)
    .limit(5)
    .forEach(System.out::println);
```

---

### ‚úÖ Stream.iterate(...)

–°–æ–∑–¥–∞—ë—Ç **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫**, –Ω–∞—á–∏–Ω–∞—è —Å –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –ø—Ä–∏–º–µ–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—é.

#### –í–∞—Ä–∏–∞–Ω—Ç —Å –¥–≤—É–º—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ (Java 8):

```java
Stream<Integer> evens = Stream.iterate(0, n -> n + 2);
```

- `0` ‚Äî –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `n -> n + 2` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –ø–æ–ª—É—á–∞—é—â–∞—è —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ
- –ü–æ—Ç–æ–∫ –±–µ—Å–∫–æ–Ω–µ—á–µ–Ω, –µ—Å–ª–∏ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –≤—Ä—É—á–Ω—É—é (`limit()`)

#### –í–∞—Ä–∏–∞–Ω—Ç —Å —Ç—Ä–µ–º—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ (Java 9+):

```java
Stream<Integer> range = Stream.iterate(0, n -> n < 10, n -> n + 2);
```

- `0` ‚Äî –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `n -> n < 10` ‚Äî —É—Å–ª–æ–≤–∏–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è
- `n -> n + 2` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∑–Ω–∞—á–µ–Ω–∏—é

–¢–∞–∫–æ–π –ø–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∫–æ–≥–¥–∞ `n < 10` —Å—Ç–∞–Ω–µ—Ç –ª–æ–∂–Ω—ã–º.

---

### ‚úÖ Stream.concat(...)

–û–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–≤–∞ –ø–æ—Ç–æ–∫–∞:

```java
Stream<String> stream1 = Stream.of("a", "b");
Stream<String> stream2 = Stream.of("c", "d");

Stream<String> combined = Stream.concat(stream1, stream2);
```

---

### üß† –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫

| –°—Ü–µ–Ω–∞—Ä–∏–π                              | –ú–µ—Ç–æ–¥                        |
|---------------------------------------|------------------------------|
| –ï—Å—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—è                        | `collection.stream()`       |
| –ï—Å—Ç—å –º–∞—Å—Å–∏–≤                           | `Arrays.stream(array)`      |
| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è                  | `Stream.of(...)`            |
| –ù—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å "–Ω–∏—á–µ–≥–æ"                | `Stream.empty()`            |
| –ù—É–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ            | `Stream.generate(...)`      |
| –ù—É–∂–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å              | `Stream.iterate(...)`       |
| –ù—É–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–≤–∞ –ø–æ—Ç–æ–∫–∞           | `Stream.concat(...)`        |

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å `Stream` –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–ª–∏ –º–∞—Å—Å–∏–≤–∞?
2. –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è `Stream.generate()` –∏ `Stream.iterate()`?
3. –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç–æ–π `Stream`? –í –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö —ç—Ç–æ –ø–æ–ª–µ–∑–Ω–æ?
5. –ö–∞–∫ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–≤–∞ —Å—Ç—Ä–∏–º–∞?

</details>

## üîÑ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ Stream API

–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ `Stream` **–Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–∞–º–∏ –ø–æ —Å–µ–±–µ** ‚Äî –æ–Ω–∏ **—Ñ–æ—Ä–º–∏—Ä—É—é—Ç —Ü–µ–ø–æ—á–∫—É —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π**, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.

---

### üìã –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

| –û–ø–µ—Ä–∞—Ü–∏—è | –ê—Ä–≥—É–º–µ–Ω—Ç—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|------------|------------------|-----------|
| `filter(Predicate<? super T> predicate)` | `Predicate` | `Stream<T>` | –û—Ç–±–∏—Ä–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â–∏–µ —É—Å–ª–æ–≤–∏—é. |
| `<R> map(Function<? super T, ? extends R> mapper)` | `Function` | `Stream<R>` | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç stream –≤ –¥—Ä—É–≥–æ–π —Ç–∏–ø. |
| `mapToInt(ToIntFunction<? super T> mapper)` | `ToIntFunction` | `IntStream` | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∏–ø–∞ `int`. |
| `<R> flatMap(Function<? super T, ? extends Stream<? extends R>> mapper)` | `Function` | `Stream<R>` | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ stream –∏ ¬´—Å–ø–ª—é—â–∏–≤–∞–µ—Ç¬ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –æ–¥–∏–Ω –æ–±—â–∏–π stream. |
| `limit(long maxSize)` | `long` | `Stream<T>` | –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ stream –ø–µ—Ä–≤—ã–º–∏ `maxSize`. |
| `skip(long n)` | `long` | `Stream<T>` | –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –ø–µ—Ä–≤—ã–µ `n` —ç–ª–µ–º–µ–Ω—Ç–æ–≤. |
| `peek(Consumer<? super T> action)` | `Consumer` | `Stream<T>` | –í—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞–¥ –∫–∞–∂–¥—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º (–æ–±—ã—á–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏–ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è). |
| `takeWhile(Predicate<? super T> predicate)` | `Predicate` | `Stream<T>` | –ë–µ—Ä—ë—Ç —ç–ª–µ–º–µ–Ω—Ç—ã, –ø–æ–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É—Å–ª–æ–≤–∏–µ (Java 9+). |
| `dropWhile(Predicate<? super T> predicate)` | `Predicate` | `Stream<T>` | –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã, –ø–æ–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É—Å–ª–æ–≤–∏–µ (Java 9+). |
| `distinct()` | ‚Äì | `Stream<T>` | –£–±–∏—Ä–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ `equals()`. |
| `sorted()` | ‚Äì | `Stream<T>` | –°–æ—Ä—Ç–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ. |
| `sorted(Comparator<? super T> comparator)` | `Comparator` | `Stream<T>` | –°–æ—Ä—Ç–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–∞. |
| `<R> gather(Gatherer<? super T, ?, R> gatherer)` | `Gatherer` | `Stream<R>` | –ì–∏–±–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `Gatherer` (Java 22+). |


---

### üîπ `filter(Predicate<T>)`

–û—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—Ç —É—Å–ª–æ–≤–∏—é.

```java
List.of("A", "AB", "ABC").stream()
    .filter(s -> s.length() > 1)
    .toList(); // ["AB", "ABC"]
```

---

### üîπ `map(Function<T, R>)`

–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ –¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç.

```java
List.of("A", "AB", "ABC").stream()
    .map(String::length)
    .toList(); // [1, 2, 3]
```

---

### üîπ `flatMap(Function<T, Stream<R>>)`
–†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ—Ç–æ–∫–∏: –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä–∏–º, –≤—Å–µ –æ–Ω–∏ "—Å–ø–ª—é—â–∏–≤–∞—é—Ç—Å—è" –≤ –æ–¥–∏–Ω.

```java
Stream.of("java", "python")
    .flatMap(str -> str.chars().mapToObj(c -> (char) c))
    .toList(); // ['j', 'a', 'v', 'a', 'p', 'y', 't', 'h', 'o', 'n']
```

- `map()` ‚Üí Stream<Stream<R>>
- `flatMap()` ‚Üí Stream<R>

---

### üîπ `distinct()`

–£–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `equals()` –∏ `hashCode()`):

```java
List.of("A", "B", "A", "C").stream()
    .distinct()
    .toList(); // ["A", "B", "C"]
```

---

### üîπ `sorted()` –∏ `sorted(Comparator)`

–°–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫:

```java
List.of(3, 2, 1).stream()
    .sorted()
    .toList(); // [1, 2, 3]
```

–° –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–æ–º:

```java
List.of("ccc", "bb", "a").stream()
    .sorted(Comparator.comparing(String::length))
    .toList(); // ["a", "bb", "ccc"]
```

---

### üîπ `peek(Consumer<T>)`

–ü–æ–∑–≤–æ–ª—è–µ—Ç **–≤—Å—Ç–∞–≤–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–º** –≤ —Å–µ—Ä–µ–¥–∏–Ω—É —Ü–µ–ø–æ—á–∫–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä–∏–º–∞. –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.

```java
List.of(1, 2, 3).stream()
    .peek(i -> System.out.println("–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º: " + i))
    .map(x -> x * 2)
    .toList();
```

> ‚ö†Ô∏è `peek()` —Å—Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ—Å–ª–µ –Ω–µ–≥–æ –µ—Å—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è** (`toList()`, `forEach()`, `collect()` –∏ —Ç.–¥.). –ö—Ä–∞–π–Ω–µ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å peek –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ, –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º–µ—Ç–æ–¥ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏/–æ—Ç–ª–∞–¥–∫–∏.

---

### üîπ `limit(n)` –∏ `skip(n)`

- `limit(n)` ‚Äî –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤;
- `skip(n)` ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –ø–µ—Ä–≤—ã–µ `n` —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

```java
List.of(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10).stream()
    .skip(3)
    .limit(4)
    .toArray(); // [3, 4, 5, 6]
```

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `map()`, –∏ –∫–∞–∫ –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `flatMap()`?
2. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `peek()` –∏ `forEach()`?
3. –î–ª—è —á–µ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `peek()`?
4. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `distinct()` –∏ –Ω–∞ —á—ë–º –æ–Ω –æ—Å–Ω–æ–≤–∞–Ω?
5. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç `skip(n)` –∏ `limit(n)` –≤–º–µ—Å—Ç–µ?
6. –ß–µ–º `sorted()` –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `sorted(Comparator)`?

</details>

## –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ Stream API
---

### üìå –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è?

–¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
- –∑–∞–ø—É—Å–∫–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π stream;
- –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ª–∏–±–æ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –ª–∏–±–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç –¥–µ–π—Å—Ç–≤–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `forEach`);
- **–ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ stream –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ.**

---

### üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

| –û–ø–µ—Ä–∞—Ü–∏—è | –ê—Ä–≥—É–º–µ–Ω—Ç—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|------------|------------------|-----------|
| `count()` | ‚Äì | `long` | –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ stream. |
| `findFirst()` | ‚Äì | `Optional<T>` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç stream (–µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å). |
| `anyMatch(Predicate<? super T> predicate)` | `Predicate` | `boolean` | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â–∏–π —É—Å–ª–æ–≤–∏—é. |
| `allMatch(Predicate<? super T> predicate)` | `Predicate` | `boolean` | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –≤—Å–µ –ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—Ç —É—Å–ª–æ–≤–∏—é. |
| `noneMatch(Predicate<? super T> predicate)` | `Predicate` | `boolean` | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∏ –æ–¥–∏–Ω –ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—é. |
| `forEach(Consumer<? super T> action)` | `Consumer` | `void` | –í—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ stream. |
| `max(Comparator<? super T> comparator)` | `Comparator` | `Optional<T>` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä—É. |
| `min(Comparator<? super T> comparator)` | `Comparator` | `Optional<T>` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä—É. |
| `reduce(BinaryOperator<T> accumulator)` | `BinaryOperator` | `Optional<T>` | –°–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã stream –≤ –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–∞—á–∏–Ω–∞—è —Å –ø–µ—Ä–≤–æ–≥–æ. |
| `reduce(T identity, BinaryOperator<T> accumulator)` | `identity`, `BinaryOperator` | `T` | –°–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã, –Ω–∞—á–∏–Ω–∞—è —Å –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (`identity`). |
| `<U> reduce(U identity, BiFunction<U, ? super T, U> accumulator, BinaryOperator<U> combiner)` | `identity`, `BiFunction`, `BinaryOperator` | `<U>` | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç reduce –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö stream —Å –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º —á–∞—Å—Ç–∏—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. |
| `<R, A> collect(Collector<? super T, A, R> collector)` | `Collector` | `<R>` | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã stream –≤ –∏—Ç–æ–≥–æ–≤—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –∏–ª–∏ –¥—Ä—É–≥—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö. |
| `toList()` | ‚Äì | `List<T>` | –°–æ–±–∏—Ä–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Å–ø–∏—Å–æ–∫ (Java 16+). |
| `toArray()` | ‚Äì | `Object[]` | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç stream –≤ –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤. |

---

### üîπ `forEach(Consumer<T>)`

–í—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞:

```java
Stream.of("A", "B", "C").forEach(System.out::println);
```

‚ö†Ô∏è –í –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö stream –ø–æ—Ä—è–¥–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω.

---

### üîπ `toList()`

–°–æ–±–∏—Ä–∞–µ—Ç stream –≤ `List`.  
–° Java 16 ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥:

```java
List<String> list = Stream.of("A", "B", "C").toList();
```

–í Java 8‚Äì15 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `collect(Collectors.toList())`.

---

### üîπ `collect(...)`

–ì–∏–±–∫–∏–π –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è stream –≤ –¥—Ä—É–≥—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö:

```java
List<String> result = Stream.of("A", "B", "C")
    .collect(Collectors.toList());
```
---

### üîπ `count()`

–ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

```java
long count = Stream.of("A", "B", "C").count(); // 3
```

---

### üîπ `min(Comparator)` / `max(Comparator)`

–ù–∞—Ö–æ–¥–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç:

```java
Optional<String> shortest = Stream.of("A", "BB", "CCC")
    .min(Comparator.comparing(String::length));
```

---

### üîπ `findFirst()` / `findAny()`

–ù–∞—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–π –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç:

```java
Optional<String> first = Stream.of("A", "B", "C").findFirst();
```

---

### üîπ `anyMatch()` / `allMatch()` / `noneMatch()`

–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π:

```java
boolean hasEven = Stream.of(1, 2, 3).anyMatch(n -> n % 2 == 0);
boolean allEven = Stream.of(2, 4, 6).allMatch(n -> n % 2 == 0);
boolean noneNegative = Stream.of(1, 2, 3).noneMatch(n -> n < 0);
```

---

### üîπ `reduce(...)`

–û–±—ä–µ–¥–∏–Ω—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—É–º–º—É):

```java
int sum = Stream.of(1, 2, 3)
    .reduce(0, Integer::sum); // 6
```

–§–æ—Ä–º—ã:
- `reduce(accumulator)`
- `reduce(identity, accumulator)`
- `reduce(identity, accumulator, combiner)`

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `findFirst()` –∏ `findAny()`?
2. –ü–æ—á–µ–º—É –ø–æ—Å–ª–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ stream –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ?
3. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `reduce()` –∏ –∫–∞–∫–∏–µ —Ñ–æ—Ä–º—ã –≤—ã–∑–æ–≤–∞ —É –Ω–µ–≥–æ –µ—Å—Ç—å?
4. –ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `anyMatch()`, –∞ –∫–æ–≥–¥–∞ `allMatch()`?

</details>

## 9. üîß –ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∏–º—ã: IntStream, LongStream, DoubleStream

### üìå –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∏–º—ã

–í —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å—Ç—Ä–∏–º–∞—Ö (`Stream<T>`) —Ä–∞–±–æ—Ç–∞ —Å –ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `int`, `long`, `double`) –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ **boxing/unboxing**:
- `int` ‚Üí `Integer`
- `double` ‚Üí `Double`
- `long` ‚Üí `Long`

–≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç **–ª–∏—à–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã** –∏ **–∑–∞–º–µ–¥–ª—è–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**, –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–∞—Ö –¥–∞–Ω–Ω—ã—Ö.

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–π –Ω–∞–∫–ª–∞–¥–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏, Java –≤–≤–µ–ª–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:
- `IntStream`
- `LongStream`
- `DoubleStream`

–û–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞–ø—Ä—è–º—É—é —Å –ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏ –±–µ–∑ –æ–±—ë—Ä—Ç–æ–∫.

---

### üß™ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Å—Ç—Ä–∏–º–æ–≤

#### IntStream

```java
// –° —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
IntStream.of(1, 2, 3);

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª
IntStream.generate(() -> (int) (Math.random() * 100));

// –î–∏–∞–ø–∞–∑–æ–Ω—ã —á–∏—Å–µ–ª
IntStream.range(0, 5);       // 0, 1, 2, 3, 4
IntStream.rangeClosed(0, 5); // 0, 1, 2, 3, 4, 5
```

```java
int[] ints = new int[]{1, 2, 3};
IntStream stream = IntStream.of(ints); // –∞–Ω–∞–ª–æ–≥ Arrays.stream(ints)
```

#### LongStream

```java
LongStream.of(100L, 200L, 300L);
LongStream.generate(() -> System.currentTimeMillis());
LongStream.range(1, 10);
LongStream.rangeClosed(1, 10);
```

#### DoubleStream

```java
DoubleStream.of(3.14, 2.71);
DoubleStream.generate(Math::random); // –ø–æ—Ç–æ–∫ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª –æ—Ç 0.0 –¥–æ 1.0
```

---

### üîÑ –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

–ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∏–º—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ç–µ –∂–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —á—Ç–æ –∏ –æ–±—ã—á–Ω—ã–µ `Stream<T>`, –Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–¥ –ø—Ä–∏–º–∏—Ç–∏–≤—ã:

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `map(...)` | –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –Ω–æ–≤—ã–π –ø—Ä–∏–º–∏—Ç–∏–≤ |
| `mapToObj(...)` | –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∏–º–∏—Ç–∏–≤ –≤ –æ–±—ä–µ–∫—Ç–Ω—ã–π —Ç–∏–ø |
| `mapToDouble(...)` / `mapToInt(...)` / `mapToLong(...)` | –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏–∑ –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–º–∏—Ç–∏–≤–∞ –≤ –¥—Ä—É–≥–æ–π |
| `boxed()` | –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –ø—Ä–∏–º–∏—Ç–∏–≤—ã –≤ –æ–±—ä–µ–∫—Ç–Ω—É—é –æ–±—ë—Ä—Ç–∫—É (`int` ‚Üí `Integer`) |

```java
IntStream.range(1, 5)
         .map(x -> x * x) // int ‚Üí int
         .forEach(System.out::println);
```

```java
IntStream.range(1, 5)
         .mapToObj(x -> "Item #" + x) // int ‚Üí String
         .forEach(System.out::println);
```

```java
IntStream.range(1, 5)
         .boxed() // IntStream ‚Üí Stream<Integer>
         .forEach(System.out::println);
```

---

### ‚õ≥ –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

| –û–ø–µ—Ä–∞—Ü–∏—è | –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|------------------------|
| `sum()` | —Å—É–º–º–∞ –∑–Ω–∞—á–µ–Ω–∏–π (`int`, `long`, `double`) |
| `average()` | —Å—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ ‚Äî `OptionalDouble` |
| `min()` / `max()` | –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî `OptionalInt`, `OptionalLong`, `OptionalDouble` |
| `count()` | –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ |
| `toArray()` | –º–∞—Å—Å–∏–≤ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ |
| `forEach(...)` | –ø–µ—Ä–µ–±–æ—Ä –∑–Ω–∞—á–µ–Ω–∏–π |

```java
int sum = IntStream.of(1, 2, 3).sum(); // 6

OptionalDouble avg = IntStream.of(1, 2, 3).average(); // 2.0

OptionalInt min = IntStream.of(1, 2, 3).min(); // 1
```

---

### üîÅ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏

```java
IntStream.range(1, 5)
         .asLongStream() // IntStream ‚Üí LongStream
         .asDoubleStream(); // LongStream ‚Üí DoubleStream
```

```java
DoubleStream.of(1.5, 2.5)
            .mapToObj(d -> String.format("%.1f", d)) // Double ‚Üí String
            .forEach(System.out::println);
```

---

### ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∏–º—ã

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `IntStream`, `LongStream`, `DoubleStream`, –µ—Å–ª–∏:

- —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å —á–∏—Å–ª–æ–≤—ã–º–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ –∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏;
- –ø–∏—à–µ—Ç–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è/–∞–≥—Ä–µ–≥–∞—Ü–∏–∏ (—Å—É–º–º—ã, —Å—Ä–µ–¥–Ω–∏–µ, min/max);
- –∫—Ä–∏—Ç–∏—á–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ó–∞—á–µ–º –Ω—É–∂–Ω—ã —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∏–º—ã (`IntStream`, `LongStream`, `DoubleStream`)?
2. –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è `IntStream.range(...)` –æ—Ç `rangeClosed(...)`?
3. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –º–µ—Ç–æ–¥ `boxed()` —É –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–≥–æ —Å—Ç—Ä–∏–º–∞?
4. –ö–∞–∫ –∏–∑–≤–ª–µ—á—å —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `IntStream`?
5. –ü–æ—á–µ–º—É `average()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `OptionalDouble`, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ `double`?
6. –ö–∞–∫ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å `IntStream` –≤ `Stream<String>`?
7. –ß–µ–º –ø–æ–ª–µ–∑–Ω—ã –º–µ—Ç–æ–¥—ã `mapToObj`, `mapToInt`, `mapToDouble`?

</details>

## 10. üì¶ –ö–æ–ª–ª–µ–∫—Ç–æ—Ä—ã: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ

## 10.1. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã

### –ß—Ç–æ —Ç–∞–∫–æ–µ Collector

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Collector<T, A, R>` –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –∏–∑ —Å—Ç—Ä–∏–º–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ `T` –ø–æ–ª—É—á–∏—Ç—å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∏–ø–∞ `R`.

–ú–µ—Ç–æ–¥ `collect` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–∫:

```java
<R, A> R collect(Collector<? super T, A, R> collector)
```

–ö–ª–∞—Å—Å `Collectors` —Å–æ–¥–µ—Ä–∂–∏—Ç –≥–æ—Ç–æ–≤—ã–µ —Ñ–∞–±—Ä–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç —Ç–∞–∫–∏–µ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã.

---

### toList –∏ toSet

```java
Collector<T, ?, List<T>> toList()
Collector<T, ?, Set<T>> toSet()
```

- `Collectors.toList()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–∏–∑–º–µ–Ω—è–µ–º—ã–π —Å–ø–∏—Å–æ–∫**, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ `ArrayList`. –≠–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞ –ø—Ä–∏ —ç—Ç–æ–º –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏. –î–ª—è Java 8‚Äì15 –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `collect(Collectors.toList())`. –¢–∞–∫–∂–µ –µ—Å—Ç—å `Collectors.toUnmodifiableList()` (Java 10+)
- –ù–∞—á–∏–Ω–∞—è —Å Java 16, –ø–æ—è–≤–∏–ª—Å—è –º–µ—Ç–æ–¥ `Stream.toList()`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π —Å–ø–∏—Å–æ–∫**.

```java
Set<Integer> set = Set.of(1, 2, 4, 3);

List<Integer> list = set.stream()
   .collect(Collectors.toList()); // –∏–∑–º–µ–Ω—è–µ–º—ã–π —Å–ø–∏—Å–æ–∫

Set<Integer> newSet = set.stream()
   .collect(Collectors.toSet()); // –º–Ω–æ–∂–µ—Å—Ç–≤–æ –±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
```

---

### üìå toCollection

–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å—Ç—Ä–∏–º –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∫–æ–ª–ª–µ–∫—Ü–∏–∏. –£–¥–æ–±–µ–Ω, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ArrayDeque`, `LinkedList`, `TreeSet` –∏ —Ç. –ø.).

```java
Collector<T, ?, C> toCollection(Supplier<C> collectionFactory)
```

```java
Deque<Integer> deque = set.stream()
   .collect(Collectors.toCollection(ArrayDeque::new)); // —Å–æ–∑–¥–∞—ë—Ç ArrayDeque
```

---

### üìå toMap

–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ç—Ä–∏–º–∞ –≤ –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é (`Map`), –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—è:
- `keyMapper` ‚Äî –∫–∞–∫ –∏–∑–≤–ª–µ—á—å –∫–ª—é—á –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–∞;
- `valueMapper` ‚Äî –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ;
- `mergeFunction` ‚Äî –∫–∞–∫ –ø–æ—Å—Ç—É–ø–∏—Ç—å –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ –∫–ª—é—á–µ–π;
- `mapFactory` ‚Äî –∫–∞–∫—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é Map –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (`HashMap`, `TreeMap`, –∏ —Ç.–¥.).

```java
List<Grade> grades = List.of(
   new Grade(1L, 99),
   new Grade(2L, 80),
   new Grade(3L, 85)
);

// –ü—Ä–æ—Å—Ç–æ–π toMap: –∫–ª—é—á ‚Äî ID, –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî –±–∞–ª–ª
Map<Long, Integer> studentIdToScore = grades.stream()
        .collect(Collectors.toMap(
                Grade::getStudentId, 
                Grade::getScore
        ));

// –ï—Å–ª–∏ –∫–ª—é—á–∏ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –º–∞–∫—Å–∏–º—É–º
Map<Long, Integer> studentIdToMaxScore = grades.stream()
        .collect(Collectors.toMap(
                Grade::getStudentId, 
                Grade::getScore, 
                Math::max
        ));

// –¢–æ –∂–µ, –Ω–æ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∫–ª—é—á–µ–π
Map<Long, Integer> sorted = grades.stream()
        .collect(Collectors.toMap(
                Grade::getStudentId, 
                Grade::getScore, 
                Math::max, 
                TreeMap::new
   ));
```

---

### üìå joining

–û–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã `Stream<String>` (–∏–ª–∏ –ª—é–±–æ–≥–æ `CharSequence`) –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±–µ–∑ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è,
- —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º,
- —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º –∏ —Å—É—Ñ—Ñ–∏–∫—Å–æ–º.

```java
String result = grades.stream()
        .map(Grade::toString)
        .collect(Collectors.joining(", ", "[", "]"));
// ‚Üí "[Grade{...}, Grade{...}, ...]"
```

---

### üìå reducing

–û–±–æ–±—â—ë–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—ë—Ä—Ç–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π:
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω–µ–ª—å–∑—è –≤—ã—Ä–∞–∑–∏—Ç—å –∑–∞–¥–∞—á—É —á–µ—Ä–µ–∑ –≥–æ—Ç–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã (`summingInt`, `counting` –∏ —Ç. –ø.);
- –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä.

```java
int scoreSum = grades.stream()
        .collect(Collectors.reducing(
                0, 
                Grade::getScore, 
                Integer::sum
        ));
// –°—É–º–º–∏—Ä—É–µ–º –æ—Ü–µ–Ω–∫–∏ –≤—Ä—É—á–Ω—É—é
```

---

### üìå counting

–°—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Å—Ç—Ä–∏–º–µ:

```java
long count = grades.stream()
        .collect(Collectors.counting());
```

–í —Å–≤—è–∑–∫–µ —Å `groupingBy`:

```java
Map<Integer, Long> scoreCounts = grades.stream()
        .collect(Collectors.groupingBy(
                Grade::getScore, 
                Collectors.counting()
        ));
// –°–∫–æ–ª—å–∫–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø–æ–ª—É—á–∏–ª–∏ –∫–∞–∂–¥—ã–π –±–∞–ª–ª
```

---

### üìå minBy –∏ maxBy

–ù–∞—Ö–æ–¥–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Å—Ç—Ä–∏–º–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–∞.

```java
Optional<Grade> min = grades.stream()
        .collect(Collectors.minBy(
                Comparator.comparingInt(Grade::getScore)
        ));

Optional<Grade> max = grades.stream()
        .collect(Collectors.maxBy(
                Comparator.comparingInt(Grade::getScore)
        ));
```

---

### üìå summingInt / summingLong / summingDouble

–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö —Å–≤—ë—Ä—Ç–æ–∫. –†–∞–±–æ—Ç–∞—é—Ç –±—ã—Å—Ç—Ä–µ–µ –∏ –ø—Ä–æ—â–µ, —á–µ–º `reducing`.

```java
int total = grades.stream()
        .collect(Collectors.summingInt(Grade::getScore));
```

---

### üìå collectingAndThen

–ü–æ–∑–≤–æ–ª—è–µ—Ç **–ø–æ—Å–ª–µ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö** –ø—Ä–∏–º–µ–Ω–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ `unmodifiableList`, –∏ —Ç.–ø.

```java
int roundedAverage = grades.stream()
        .collect(Collectors.collectingAndThen(
                Collectors.summingInt(Grade::getScore), 
                sum -> sum / grades.size()
        ));
```

---

### üìå groupingBy

–ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –∫–ª—é—á—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ –ø–æ–ª—é –æ–±—ä–µ–∫—Ç–∞). –≠—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö –∏ –≥–∏–±–∫–∏—Ö –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤.

```java
Map<Integer, List<Grade>> gradesByScore = grades.stream()
        .collect(Collectors.groupingBy(Grade::getScore));
```

–ú–æ–∂–Ω–æ –≤–ª–æ–∂–∏—Ç—å –¥—Ä—É–≥–æ–π –∫–æ–ª–ª–µ–∫—Ç–æ—Ä ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å—á–∏—Ç–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø–æ –∫–∞–∂–¥–æ–π –æ—Ü–µ–Ω–∫–µ:

```java
Map<Integer, Long> counts = grades.stream()
        .collect(Collectors.groupingBy(
                Grade::getScore, 
                Collectors.counting()
        ));
```

---

### üìå partitioningBy

–†–∞–∑–±–∏–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ –¥–≤–µ –≥—Ä—É–ø–ø—ã –ø–æ –±—É–ª–µ–≤–æ–º—É –ø—Ä–∏–∑–Ω–∞–∫—É:

```java
Map<Boolean, List<Grade>> result = grades.stream()
        .collect(Collectors.partitioningBy(
                g -> g.getScore() >= 60
        ));
// true ‚Äî —Å–¥–∞–≤—à–∏–µ, false ‚Äî –Ω–µ —Å–¥–∞–≤—à–∏–µ
```

---

### üìå mapping

–ü–æ–∑–≤–æ–ª—è–µ—Ç **—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å** —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∏ –ø–æ–ø–∞–¥—É—Ç –≤–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–π –∫–æ–ª–ª–µ–∫—Ç–æ—Ä. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è—Ö —Å `groupingBy`, `joining`, `toList`, –∏ –¥—Ä.

```java
Map<Integer, List<Long>> studentIdsByScore = grades.stream()
        .collect(Collectors.groupingBy(
                Grade::getScore, 
                Collectors.mapping(
                        Grade::getStudentId, 
                        Collectors.toList()
                )
        ));
```

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `Collectors.toList()` –∏ `Stream.toList()`?
2. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `groupingBy`, –∏ —á–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `partitioningBy`?
3. –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `collectingAndThen`?
4. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `mapping(...)`, –∏ –∫–∞–∫ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
5. –ö–∞–∫–æ–π —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `minBy`, `maxBy`, `average()`?
</details>

## 10.2. –°–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å Collectors

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –º—ã —Ä–∞–∑–±–µ—Ä—ë–º **–≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∏ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `Collectors`, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–µ—à–∞—Ç—å –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏.

---

### üìå –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º mapping

–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ –ø—Ä–∏–∑–Ω–∞–∫—É —Å –ø–æ–º–æ—â—å—é `Collectors.groupingBy` –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Collectors.mapping`.

```java
        List<Grade> grades = List.of(
        new Grade(1L, 100),
        new Grade(2L, 99),
        new Grade(3L, 90),
        new Grade(4L, 99),
        new Grade(5L, 90));

// Map<Integer, List<Long>> ‚Äî studentId'—ã –ø–æ –∫–∞–∂–¥–æ–π –æ—Ü–µ–Ω–∫–µ
Map<Integer, List<Long>> studentsByScore = grades.stream()
        .collect(Collectors.groupingBy(
                Grade::getScore,               // –∫–ª—é—á ‚Äî –±–∞–ª–ª
                Collectors.mapping(
                        Grade::getStudentId,   // –≤—ã–±–∏—Ä–∞–µ–º —Ç–æ–ª—å–∫–æ ID
                        Collectors.toList()    // —Å–æ–±–∏—Ä–∞–µ–º –∫–∞–∫ List<Long>
                )
        ));
```

---

### üìå –í–ª–æ–∂–µ–Ω–Ω—ã–π mapping + joining

–ú–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å ID —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø–æ –∫–∞–∂–¥–æ–π –æ—Ü–µ–Ω–∫–µ **–≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º**, –∞ –Ω–µ –≤ —Å–ø–∏—Å–æ–∫.

```java
Map<Integer, String> studentsByScore = grades.stream()
        .collect(Collectors.groupingBy(
                Grade::getScore,
                Collectors.mapping(
                        grade -> String.valueOf(grade.getStudentId()), // Long ‚Üí String
                        Collectors.joining(", ")                        // –æ–±—ä–µ–¥–∏–Ω—è–µ–º —Å—Ç—Ä–æ–∫—É
                )
        ));
```

---

### üìå –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å –ø–æ–¥—Å—á—ë—Ç–æ–º ‚Äî groupingBy + counting

–°–∫–æ–ª—å–∫–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø–æ–ª—É—á–∏–ª–∏ –∫–∞–∂–¥—ã–π –±–∞–ª–ª:

```java
Map<Integer, Long> scoreCounts = grades.stream()
        .collect(Collectors.groupingBy(
                Grade::getScore, 
                Collectors.counting()
        ));
```

---

### üìå –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å summing / averaging / reducing

–ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª –ø–æ –∫–∞–∂–¥–æ–º—É —Å—Ç—É–¥–µ–Ω—Ç—É:

```java
Map<Long, Double> averagePerScore = grades.stream()
        .collect(Collectors.groupingBy(
                Grade::getStudentId,
                Collectors.averagingInt(Grade::getScore)
        ));
```

–î—Ä—É–≥–æ–π –ø—Ä–∏–º–µ—Ä: **–Ω–∞–π–¥–µ–º –º–∞–∫—Å–∏–º—É–º** –æ—Ü–µ–Ω–∫–∏ –ø–æ –∫–∞–∂–¥–æ–º—É —Å—Ç—É–¥–µ–Ω—Ç—É:

```java
Map<Long, Integer> maxScoreByStudent = grades.stream()
        .collect(Collectors.groupingBy(
                Grade::getStudentId,
                Collectors.collectingAndThen(
                        Collectors.mapping(Grade::getScore, Collectors.maxBy(Integer::compareTo)),
                        opt -> opt.orElse(0)
                )
        ));
```

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ó–∞—á–µ–º –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è `collectingAndThen` –≤–Ω—É—Ç—Ä–∏ `groupingBy`?
2. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `mapping(...)` –∏ –ø–æ—á–µ–º—É –æ–Ω –ø–æ–ª–µ–∑–µ–Ω?
3. –ß–µ–º `groupingBy(..., counting())` –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `groupingBy(..., toList())`?
</details>

## 10.3. –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã

–í —Å–ª—É—á–∞–µ –∫–æ–≥–¥–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π. –°–¥–µ–ª–∞—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:

- **–∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Collector<T, A, R>` –≤—Ä—É—á–Ω—É—é**;
- –∑–∞–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —á–µ—Ä–µ–∑ `Collector.of(supplier, accumulator, combiner, finisher)`
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–≥–æ—Ç–æ–≤—ã–π –∫–æ–º–±–∏–Ω–∏—Ä—É—é—â–∏–π –∫–æ–ª–ª–µ–∫—Ç–æ—Ä `Collectors.teeing(...)`**.

---

### üìå –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Collector<T, A, R>`

–¢–∏–ø–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `T` ‚Äî —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Å—Ç—Ä–∏–º–µ;
- `A` ‚Äî –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä ‚Äî –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è;
- `R` ‚Äî —Ç–∏–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

–î–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å:

```java
public interface Collector<T, A, R> {
    Supplier<A> supplier();                      // –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å "–ø—É—Å—Ç–æ–π" –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä
    BiConsumer<A, T> accumulator();              // –∫–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä
    BinaryOperator<A> combiner();                // –∫–∞–∫ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–≤–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ)
    Function<A, R> finisher();                   // –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    Set<Characteristics> characteristics();      // –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–≤ –æ—Å–Ω–æ–≤–Ω–æ–º –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–∏–º–æ–≤)
}
```

---

### –ü—Ä–∏–º–µ—Ä: –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä —Å—É–º–º—ã –∏ —Å—Ä–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è

–í—Ä—É—á–Ω—É—é —Ç–∞–∫–æ–π –∫–æ–ª–ª–µ–∫—Ç–æ—Ä –±—ã–ª –±—ã –¥–æ–≤–æ–ª—å–Ω–æ –≥—Ä–æ–º–æ–∑–¥–∫–∏–º, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—á–∏—Ç—ã–≤–∞—Ç—å –ø–æ—Ç–æ–∫–∏ —Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî `Collectors.teeing(...)`.

---

### üìå `Collectors.teeing(...)`

–ú–µ—Ç–æ–¥ `teeing(...)` –ø–æ–∑–≤–æ–ª—è–µ—Ç **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** —Å–æ–±—Ä–∞—Ç—å –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏—Ö:

```java
Collector<T, ?, R> teeing(
    Collector<? super T, ?, R1> downstream1,
    Collector<? super T, ?, R2> downstream2,
    BiFunction<? super R1, ? super R2, R> merger)
```

---

### –ü—Ä–∏–º–µ—Ä: —Å–æ–±—Ä–∞—Ç—å Grade —Å –Ω–∞–∏–≤—ã—Å—à–∏–º score –∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å —Å—Ä–µ–¥–Ω–µ–µ

```java
record GradesStatistics(Grade bestScoreGrade, double averageScore) {}
```

```java
List<Grade> grades = List.of(
    new Grade(1L, 99),
    new Grade(2L, 90),
    new Grade(3L, 78),
    new Grade(1L, 60),
    new Grade(2L, 55)
);

GradesStatistics stats = grades.stream()
    .collect(Collectors.teeing(
        Collectors.maxBy(Comparator.comparingInt(Grade::getScore)),     // –Ω–∞–∏–±–æ–ª—å—à–∞—è –æ—Ü–µ–Ω–∫–∞
        Collectors.averagingInt(Grade::getScore),                        // —Å—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞
        (max, avg) -> new GradesStatistics(max.orElse(null), avg)       // –æ–±—ä–µ–¥–∏–Ω—è–µ–º
    ));
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```java
GradesStatistics{
    bestScoreGrade=Grade{studentId=1, score=99},
    averageScore=76.4
}
```

---

### –ö–æ–≥–¥–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω —Å–≤–æ–π `Collector`

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `Collector<T, A, R>` –≤—Ä—É—á–Ω—É—é –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:

- –Ω—É–∂–Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–∏—Å–∫–æ–≤, –º–∞—Ç—Ä–∏—Ü—É –∏ —Ç.–¥.);
- –Ω–µ–æ–±—Ö–æ–¥–∏–º **—Ç–æ–Ω–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å** –Ω–∞–¥ —Å–±–æ—Ä–æ–º: –ø—Ä–æ–ø—É—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤, –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ –ª–µ—Ç—É, –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –ø–∞–º—è—Ç–∏;
- —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤–æ–π –ø—É–±–ª–∏—á–Ω—ã–π API –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤.

–ù–æ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –ø—Ä–∏–∫–ª–∞–¥–Ω—ã—Ö –∑–∞–¥–∞—á –≤–ø–æ–ª–Ω–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π `groupingBy`, `mapping`, `reducing`, `collectingAndThen`, `teeing`.

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `teeing` –∏ –∫–æ–≥–¥–∞ –æ–Ω –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–µ–Ω?
2. –ö–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ –º–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `Collector` –≤—Ä—É—á–Ω—É—é?
</details>
