# –ö–æ–Ω—Å–ø–µ–∫—Ç –ª–µ–∫—Ü–∏–∏ 12 ‚Äî –†–µ—Ñ–ª–µ–∫—Å–∏—è –∏ MethodHandles

## –í–≤–µ–¥–µ–Ω–∏–µ

Reflection ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º Java, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É **–≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**.  
–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ –∫–æ–¥–∞, –≥–¥–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∏–ø–æ–≤ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, Reflection –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º –∫–ª–∞—Å—Å–∞: –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º, –º–µ—Ç–æ–¥–∞–º, –ø–æ–ª—è–º, –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º, –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∏ –¥—Ä—É–≥–∏–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º.

Reflection –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–ª–∞—Å—Å–æ–≤ –ø–æ –∏–º–µ–Ω–∏ —Å—Ç—Ä–æ–∫–∏;
- –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã, –≤–∫–ª—é—á–∞—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ;
- —á–∏—Ç–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π;
- –ø–æ–ª—É—á–∞—Ç—å —Å–≤–µ–¥–µ–Ω–∏—è –æ —Ç–∏–ø–∞—Ö, –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è—Ö;
- –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–≥—Ä–∞–º–º—ã.

–≠—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ Java‚Äë—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏:

- **DI‚Äë–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (Spring, CDI)** ‚Äî –∏—â—É—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, –º–µ—Ç–æ–¥—ã, –ø–æ–ª—è –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –±–∏–Ω–æ–≤;
- **—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã (Jackson, Gson)** ‚Äî –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç –ø–æ–ª—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ JSON/XML;
- **ORM (Hibernate/JPA)** ‚Äî —Å—á–∏—Ç—ã–≤–∞—é—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏ –ø–æ–ª—è –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π;
- **—Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ (JUnit)** ‚Äî –Ω–∞—Ö–æ–¥—è—Ç –∏ –≤—ã–∑—ã–≤–∞—é—Ç –º–µ—Ç–æ–¥—ã —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Test`.

Reflection ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å Java‚Äë—ç–∫–æ—Å–∏—Å—Ç–µ–º—ã,  
–∞ —Ç–∞–∫–∂–µ –æ—Ç–ø—Ä–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã—Ö –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ MethodHandles.

## 1. –û–±—â–∏–µ –ø–æ–Ω—è—Ç–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Reflection

Reflection ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º Java, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É **–≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –¥–æ—Å—Ç—É–ø –∫ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º –∫–ª–∞—Å—Å–æ–≤: –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º, –º–µ—Ç–æ–¥–∞–º, –ø–æ–ª—è–º, –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º –≤–∏–¥–∏–º–æ—Å—Ç–∏.

## 1.1 –ß—Ç–æ —Ç–∞–∫–æ–µ Reflection

Reflection –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–ª–∞—Å—Å–æ–≤,
- –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö, –º–µ—Ç–æ–¥–∞—Ö, –ø–æ–ª—è—Ö,
- —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `new`,
- –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã, –≤–∫–ª—é—á–∞—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ,
- —á–∏—Ç–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π,
- –ø–æ–ª—É—á–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏.

## 1.2. –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —á–µ—Ä–µ–∑ Reflection

```java
public class Card {
    private final String cardNumber;

    public Card(String cardNumber) {
        this.cardNumber = cardNumber;
    }

    public void printCardNumber() {
        System.out.println("–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: " + cardNumber);
    }

    public static void main(String[] args) {
        Card card = new Card("1234");
        card.printCardNumber();
    }
}
```

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ —Å –ø–æ–º–æ—â—å—é Reflection:
```java
public class Card {
    private final String cardNumber;

    public Card(String cardNumber) {
        this.cardNumber = cardNumber;
    }

    public void printCardNumber() {
        System.out.println("–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: " + cardNumber);
    }

    public static void main(String[] args) throws Exception {
        Constructor<Card> constructor = Card.class.getConstructor(String.class);
        Method method = Card.class.getMethod("printCardNumber");
        Card instance = constructor.newInstance("1234");
        method.invoke(instance);
    }
}
```

–í—ã–≤–æ–¥ –≤ –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö:
`–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: 1234`

## 1.3 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ —á–µ—Ä–µ–∑ Reflection

Reflection –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏:
- Package
- Class
- Constructor
- Method
- Field
- Type (–≤–∫–ª—é—á–∞—è generics)
- Annotation

–ü—Ä–∏–º–µ—Ä—ã –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—è–º –∫–ª–∞—Å—Å–∞:
```
Package pckg = Card.class.getPackage(); // –ø–∞–∫–µ—Ç
String type = Card.class.getTypeName(); // —Ç–∏–ø
Method[] methods = Card.class.getMethods(); // –º–µ—Ç–æ–¥—ã
Field[] fields = Card.class.getFields(); // –ø–æ–ª—è
Annotation[] annotations = Card.class.getAnnotations(); // –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
```

<details> 
<summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ß—Ç–æ —Ç–∞–∫–æ–µ Reflection –∏ –∫–∞–∫—É—é –∑–∞–¥–∞—á—É –æ–Ω —Ä–µ—à–∞–µ—Ç –≤ Java?
2. –ö–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω—ã —á–µ—Ä–µ–∑ Reflection?
3. –ü—Ä–∏–≤–µ–¥–∏ –ø—Ä–∏–º–µ—Ä—ã —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Reflection, –∏ –æ–±—ä—è—Å–Ω–∏ ‚Äî –∑–∞—á–µ–º –æ–Ω–∏ —ç—Ç–æ –¥–µ–ª–∞—é—Ç. 

</details>

## 2. –ö–ª–∞—Å—Å—ã

–í Java –ª—é–±–æ–π –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –æ–±—ä–µ–∫—Ç–æ–º —Ç–∏–ø–∞ `Class<?>`. –≠—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ Reflection API: –∏–º–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç `Class` –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∏–ø–∞ ‚Äî –µ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, –º–µ—Ç–æ–¥—ã, –ø–æ–ª—è, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ generics, —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –∫–ª–∞—Å—Å–µ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö.

### –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ:

- —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ —Å–æ–∑–¥–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã, –≤—ã–∑—ã–≤–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —á–µ—Ä–µ–∑ reflection;
- DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏—â—É—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏ –≤—ã–±–∏—Ä–∞—é—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –º–µ—Ç–æ–¥—ã/–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã;
- —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã —á–∏—Ç–∞—é—Ç –ø–æ–ª—è –æ–±—ä–µ–∫—Ç–∞, –≤–∫–ª—é—á–∞—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ, —á—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ JSON/XML;
- ORM-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—É—â–Ω–æ—Å—Ç–µ–π, –∏—Ö —Å–≤—è–∑–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –æ–ø–∏—Ä–∞—è—Å—å –Ω–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–∞.

Reflection –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–±–∏—Ä–∞—Ç—å –≤–∞—à –∫–æ–¥ –∏ —Å—Ç—Ä–æ–∏—Ç—å –Ω–∞–¥ –Ω–∏–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ ‚Äî –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é —É–∫–∞–∑—ã–≤–∞—Ç—å, —á—Ç–æ –∏ –≥–¥–µ –≤—ã–∑—ã–≤–∞—Ç—å.

---

## 2.1. –°–ø–æ—Å–æ–±—ã –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ `Class`

### –ß–µ—Ä–µ–∑ –ª–∏—Ç–µ—Ä–∞–ª `.class`

```java
Class<?> integerClass1 = Integer.class;
```

### –ß–µ—Ä–µ–∑ –Ω–µ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π `obj.getClass()`

```java
Integer intInstance = 42;
Class<? extends Integer> integerClass2 = intInstance.getClass();
```

---

## 2.2. –¢–∏–ø—ã `Class<?>` –∏ `Class<? extends A>`

### `Class<?>`
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø –Ω–µ –≤–∞–∂–µ–Ω. –≠—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ ¬´–∫–ª–∞—Å—Å –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ —Ç–∏–ø–∞¬ª.

### `Class<? extends A>`
–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–ª–∞—Å—Å —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –±—ã–ª `A` –∏–ª–∏ –µ–≥–æ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–º. –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–∞–º, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –∏–º–µ–Ω–Ω–æ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–µ–π —Ç–∏–ø–æ–≤.

–ü—Ä–∏–º–µ—Ä:
```java
void registerService(Class<? extends Runnable> type) {
    // –º–æ–∂–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å—ã, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ Runnable
}
```

---

## 2.3. –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –æ –∫–ª–∞—Å—Å–µ

```java
String name = HashMap.class.getName(); // java.util.HashMap
Class<?> superClass = HashMap.class.getSuperclass(); // class java.util.AbstractMap
Class<?>[] interfaces = HashMap.class.getInterfaces(); // [Map, Cloneable, Serializable]
```

---

## 2.4. –í—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ —Å–ø–æ—Å–æ–±–∞ –ø–æ–ª—É—á–µ–Ω–∏—è `Class`

- –ö–æ–≥–¥–∞ —Ç–∏–ø –∏–∑–≤–µ—Å—Ç–µ–Ω –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º `SomeClass.class` ‚Äî –±—ã—Å—Ç—Ä–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º–æ.

- –ö–æ–≥–¥–∞ —Ç–∏–ø –∏–∑–≤–µ—Å—Ç–µ–Ω —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º `obj.getClass()` ‚Äî –≤–∞–∂–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–æ–º, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

- –ö–æ–≥–¥–∞ —Ç–∏–ø –∑–∞–¥–∞—ë—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º `Class.forName()` ‚Äî –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥—Ä–∞–π–≤–µ—Ä–æ–≤, –ø–ª–∞–≥–∏–Ω–æ–≤, –º–æ–¥—É–ª–µ–π –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤.

---

<details> 
<summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ `Class` —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –≤ —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –Ω–∏–º–∏?
2. –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è `Class<?>` –æ—Ç `Class<? extends A>` –∏ –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤?
3. –ü–æ—á–µ–º—É –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–ª—É—á–µ–Ω–∏—è `Class` –≤–∞–∂–µ–Ω –¥–ª—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤?
</details> 

## 3. –ú–µ—Ç–æ–¥—ã –∏ –ø–æ–ª—è

Reflection –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–µ—Ç–æ–¥–∞—Ö –∏ –ø–æ–ª—è—Ö –∫–ª–∞—Å—Å–∞, –∞ —Ç–∞–∫–∂–µ –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∏ —á–∏—Ç–∞—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å –ø–æ–ª—è ‚Äî –≤–∫–ª—é—á–∞—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ. –≠—Ç–æ –æ–¥–Ω–∞ –∏–∑ –Ω–∞–∏–±–æ–ª–µ–µ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Reflection API: –µ—ë –∏—Å–ø–æ–ª—å–∑—É—é—Ç DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã, ORM –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏.

---

## 3.1. –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –∏ –ø–æ–ª–µ–π

Java –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–∞—Ä—ã –º–µ—Ç–æ–¥–æ–≤:

- `getMethod` / `getDeclaredMethod`
- `getField` / `getDeclaredField`
- `getMethods` / `getDeclaredMethods`
- `getFields` / `getDeclaredFields`

### –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `get*` –∏ `getDeclared*`

| –ú–µ—Ç–æ–¥                  | –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç                                                                  |
|------------------------|---------------------------------------------------------------------------------|
| `getMethods()`         | —Ç–æ–ª—å–∫–æ **public** –º–µ—Ç–æ–¥—ã + **—É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ**                                   |
| `getDeclaredMethods()` | **–≤—Å–µ –º–µ—Ç–æ–¥—ã**, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –≤ –∫–ª–∞—Å—Å–µ, –≤–∫–ª—é—á–∞—è `private`, –Ω–æ **–±–µ–∑ –Ω–∞—Å–ª–µ–¥—É–µ–º—ã—Ö** |
| `getField()`           | —Ç–æ–ª—å–∫–æ **public** –ø–æ–ª–µ (–≤–∫–ª—é—á–∞—è —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω–æ–µ)                                 |
| `getDeclaredField()`   | **–ª—é–±–æ–µ –ø–æ–ª–µ**, –æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–µ –≤ –∫–ª–∞—Å—Å–µ, –≤–∫–ª—é—á–∞—è `private`                         |

---

## 3.2. –ü—Ä–∏–º–µ—Ä –∞–Ω–∞–ª–∏–∑–∞ –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ Reflection

–ü—Ä–∏–º–µ—Ä:

```java
public class Card {
    private final String cardNumber;

    public Card(String cardNumber) {
        this.cardNumber = cardNumber;
    }

    public void deposit(BigDecimal amount) {}

    private void checkDeposit(BigDecimal amount) {}
}

public class CreditCard extends Card {
    private BigDecimal overdraft;

    public CreditCard(
        String cardNumber,
        BigDecimal overdraft
    ) {
        super(cardNumber);
        this.overdraft = overdraft;
    }

    public void increaseOverdraft(BigDecimal increase) {}

    private void checkOverdraftIncrease(
        BigDecimal increase
    ) {}
}
```

–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö **public** –º–µ—Ç–æ–¥–æ–≤ (–≤–∫–ª—é—á–∞—è –º–µ—Ç–æ–¥—ã —Ä–æ–¥–∏—Ç–µ–ª—è):

```java
Method[] methods = CreditCard.class.getMethods();
for (Method method : methods) {
    System.out.println(method);
}
```

–í—ã–≤–æ–¥:

```
public void CreditCard.increaseOverdraft(java.math.BigDecimal)
public void Card.deposit(java.math.BigDecimal)
public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException
public final void java.lang.Object.wait() throws java.lang.InterruptedException
public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException
public boolean java.lang.Object.equals(java.lang.Object)
public java.lang.String java.lang.Object.toString()
public native int java.lang.Object.hashCode()
public final native java.lang.Class java.lang.Object.getClass()
public final native void java.lang.Object.notify()
public final native void java.lang.Object.notifyAll()
```

–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã—Ö **—Ç–æ–ª—å–∫–æ –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ**:

```java
Method[] methods = CreditCard.class.getDeclaredMethods();
for (Method method : methods) {
    System.out.println(method);
}
```

–í—ã–≤–æ–¥:

```
public void CreditCard.increaseOverdraft(java.math.BigDecimal)
private void CreditCard.checkOverdraftIncrease(java.math.BigDecimal)
```

---

## 3.3. –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—è–º–∏: —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å

–ü–æ–ª–Ω—ã–π –∫–æ–¥ –∫–ª–∞—Å—Å–∞:

```java
public class Card {
    private final String cardNumber;
    private BigDecimal balance;

    public Card(String cardNumber) {
        this.cardNumber = cardNumber;
        this.balance = BigDecimal.ZERO;
    }

    public void deposit(BigDecimal amount) {
        this.balance = this.balance.add(amount);
    }

    private void checkDeposit(BigDecimal amount) {
        if (amount.compareTo(BigDecimal.ZERO) <= 0) {
            throw new IllegalArgumentException("–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ");
        }
    }
}
```

–ß—Ç–µ–Ω–∏–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –ø–æ–ª—è `balance`:

```java
Card card = new Card("1234");
Field balanceField = Card.class.getDeclaredField("balance");

balanceField.setAccessible(true);
var balance = (BigDecimal) balanceField.get(card);  // 0
balanceField.set(card, BigDecimal.valueOf(1000));   // —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

balance = (BigDecimal) balanceField.get(card);      // 1000
```

---

## 3.4. –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ `invoke()`

–í—ã–∑–æ–≤ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞:

```java
Card card = new Card("1234");
Method deposit = Card.class.getMethod(
    "deposit", BigDecimal.class
);
deposit.invoke(card, BigDecimal.valueOf(10_000));
```

–í—ã–∑–æ–≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞:

```java
Card card = new Card("1234");

Method checkDeposit = Card.class.getDeclaredMethod(
    "checkDeposit", BigDecimal.class
);
checkDeposit.invoke(card, BigDecimal.valueOf(10_000));
```

–ë–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º —á–ª–µ–Ω–∞–º –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `IllegalAccessException`.

---

## 3.5. –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –º–µ—Ç–æ–¥–∞–º –∏ –ø–æ–ª—è–º: `setAccessible(true)`

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ `private`-—ç–ª–µ–º–µ–Ω—Ç–∞–º:

```java
Method checkDeposit = Card.class.getDeclaredMethod("checkDeposit", BigDecimal.class);

checkDeposit.setAccessible(true);
checkDeposit.invoke(card, BigDecimal.valueOf(10_000));
```

–¢–æ –∂–µ —Å–∞–º–æ–µ –¥–æ—Å—Ç—É–ø–Ω–æ –∏ –¥–ª—è –ø–æ–ª–µ–π:

```java
Field valueField = Integer.class.getDeclaredField("value");
valueField.setAccessible(true);
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Java (Java 17+)

–î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–ª–∞—Å—Å–æ–≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–∞–∫–µ—Ç—ã JDK –∑–∞–∫—Ä—ã—Ç—ã, –ø–æ—ç—Ç–æ–º—É –¥–æ—Å—Ç—É–ø –∫ –Ω–∏–º –º–æ–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ñ–ª–∞–≥–æ–º JVM:

```
--add-opens java.base/java.lang=ALL-UNNAMED
```

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –í —á—ë–º —Ä–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É `getMethods()` –∏ `getDeclaredMethods()`?
2. –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ —á–µ—Ä–µ–∑ Reflection –∏ –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ?
3. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –±–µ–∑ `setAccessible(true)`?
4. –ö–∞–∫–æ–π –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ Reflection?

</details>

## 4. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã

Reflection –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∫–ª–∞—Å—Å–∞ –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏.  
–†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ä–∞–±–æ—Ç–µ —Å –º–µ—Ç–æ–¥–∞–º–∏ –∏ –ø–æ–ª—è–º–∏: —Å—É—â–µ—Å—Ç–≤—É—é—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ `public` –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ –∏ –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤, –≤–∫–ª—é—á–∞—è `private`.

---

## 4.1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

| –ú–µ—Ç–æ–¥                                                               | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                                                                         |
|---------------------------------------------------------------------|----------------------------------------------------------------------------------------------------|
| `Constructor<T> getConstructor(Class<?>... parameterTypes)`         | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **public** –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å–∏–≥–Ω–∞—Ç—É—Ä–æ–π.                                          |
| `Constructor<T> getDeclaredConstructor(Class<?>... parameterTypes)` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–ª—é–±–æ–π** –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (public/private/protected/package-private), –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–π –≤ –∫–ª–∞—Å—Å–µ. |
| `Constructor<?>[] getConstructors()`                                | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–≤—Å–µ public –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã**, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –≤ –∫–ª–∞—Å—Å–µ.                                      |
| `Constructor<?>[] getDeclaredConstructors()`                        | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–≤—Å–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã**, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –≤ –∫–ª–∞—Å—Å–µ ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏.      |

---

## 4.2. –ü—Ä–∏–º–µ—Ä –∫–ª–∞—Å—Å–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º–∏

```java
public class Card {
    private final String cardNumber;
    private BigDecimal balance;

    public Card(String cardNumber) {
        this(cardNumber, BigDecimal.ZERO);
    }

    private Card(String cardNumber, BigDecimal balance) {
        this.cardNumber = cardNumber;
        this.balance = balance;
    }
}
```

---

## 4.3. –í—ã–∑–æ–≤ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞

```java
Constructor<Card> constructor = Card.class.getConstructor(String.class);

Card card = constructor.newInstance("1234");
```

–≠—Ç–æ—Ç –≤—ã–∑–æ–≤ —É—Å–ø–µ—à–µ–Ω, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–µ—Ä–≤—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä ‚Äî `public`.

---

## 4.4. –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —á–µ—Ä–µ–∑ `getConstructor`

```java
Constructor<Card> constructor = Card.class.getConstructor(String.class, BigDecimal.class);
```

–≠—Ç–æ—Ç –≤—ã–∑–æ–≤ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –≤—ã–±—Ä–æ—Å–æ–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è `NoSuchMethodException`

–ü—Ä–∏—á–∏–Ω–∞ ‚Äî –º–µ—Ç–æ–¥ –∏—â–µ—Ç **—Ç–æ–ª—å–∫–æ public** –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã.

---

## 4.5. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ `getDeclaredConstructor`

```java
Constructor<Card> constructor = Card.class.getDeclaredConstructor(String.class, BigDecimal.class);
```

–î–ª—è –≤—ã–∑–æ–≤–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø:

```java
constructor.setAccessible(true);

Card card = constructor.newInstance("1234", BigDecimal.valueOf(1000));
```

---

## 4.6. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤—ã–∑–æ–≤–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞

–ú–µ—Ç–æ–¥ `newInstance()`:

- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
- –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç `InvocationTargetException`, –µ—Å–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±—Ä–æ—Å–∏–ª –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
- –±—Ä–æ—Å–∞–µ—Ç `IllegalAccessException`, –µ—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞
- –±—Ä–æ—Å–∞–µ—Ç `InstantiationException`, –µ—Å–ª–∏ –∫–ª–∞—Å—Å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π
- —Ç—Ä–µ–±—É–µ—Ç —Ç–æ—á–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–∏–ø–æ–≤ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è `getConstructor` –∏ `getDeclaredConstructor`?
2. –ü–æ—á–µ–º—É `getConstructor` –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä?
3. –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∏ –≤—ã–∑–≤–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —á–µ—Ä–µ–∑ Reflection?
4. –ö–∞–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–±—Ä–æ—à–µ–Ω—ã –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ `newInstance()`?
5. –í –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `getDeclaredConstructors()` –≤–º–µ—Å—Ç–æ `getConstructors()`?

</details>

## 5. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏ —Ç–∏–ø—ã

Reflection –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º—ã (–∫–ª–∞—Å—Å–æ–≤, –º–µ—Ç–æ–¥–æ–≤, –ø–æ–ª–µ–π, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤) –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ç–∏–ø–æ–≤.  
–≠—Ç–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ª–µ–∂–∞—Ç –≤ –æ—Å–Ω–æ–≤–µ —Ä–∞–±–æ—Ç—ã DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤, ORM –∏ –º–Ω–æ–≥–∏—Ö –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

---

## 5.1. –ü–æ–ª—É—á–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤

–ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–º–µ–µ—Ç –Ω–∞–±–æ—Ä –±–∏—Ç–æ–≤—ã—Ö —Ñ–ª–∞–≥–æ–≤ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –º–µ—Ç–æ–¥–æ–º `getModifiers()`.  
–î–ª—è –∞–Ω–∞–ª–∏–∑–∞ —ç—Ç–∏—Ö —Ñ–ª–∞–≥–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∞—Å—Å `java.lang.reflect.Modifier`.

### –ü—Ä–∏–º–µ—Ä: –≤—ã–≤–æ–¥ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –º–µ—Ç–æ–¥–æ–≤

```java
Method[] methods = Card.class.getDeclaredMethods();
for (var method : methods) {
    System.out.println(
        method.getName() + ": " + method.getModifiers()
    );
}
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

```
deposit: 1
checkDeposit: 2
```

### –ü—Ä–∏–º–µ—Ä: –∞–Ω–∞–ª–∏–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–æ–ª–µ–π

```java
Field[] fields = Card.class.getDeclaredFields();
for (var field : fields) {
    System.out.println("FIELD " + field.getName());
    System.out.println("isStatic: " + Modifier.isStatic(field.getModifiers()));
    System.out.println("isPublic: " + Modifier.isPublic(field.getModifiers()));
    System.out.println("isPrivate: " + Modifier.isPrivate(field.getModifiers()));
    System.out.println("isProtected: " + Modifier.isProtected(field.getModifiers()));
    System.out.println("isFinal: " + Modifier.isFinal(field.getModifiers()));
    System.out.println();
}
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

```
FIELD cardNumber
isStatic: false
isPublic: false
isPrivate: true
isProtected: false
isFinal: true

FIELD balance
isStatic: false
isPublic: false
isPrivate: true
isProtected: false
isFinal: false
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã `Modifier`

| –ú–µ—Ç–æ–¥                  | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç                     |
|------------------------|-------------------------------|
| `isPublic(int mod)`    |  —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç–ª–µ–º–µ–Ω—Ç `public` |
| `isPrivate(int mod)`   | —è–≤–ª—è–µ—Ç—Å—è –ª–∏ `private`         |
| `isProtected(int mod)` | —è–≤–ª—è–µ—Ç—Å—è –ª–∏ `protected`       |
| `isStatic(int mod)`    | —è–≤–ª—è–µ—Ç—Å—è –ª–∏ `static`          |
| `isFinal(int mod)`     | —è–≤–ª—è–µ—Ç—Å—è –ª–∏ `final`           |
| `isAbstract(int mod)`  | —è–≤–ª—è–µ—Ç—Å—è –ª–∏ `abstract`        |
| `isNative(int mod)`    | —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –Ω–∞—Ç–∏–≤–Ω—ã–º          |

---

## 5.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤: `isAssignableFrom`

–ú–µ—Ç–æ–¥ `isAssignableFrom` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –º–æ–∂–Ω–æ –ª–∏ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –æ–±—ä–µ–∫—Ç –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥—Ä—É–≥–æ–≥–æ —Ç–∏–ø–∞.

```java
boolean listFromArrayList = List.class.isAssignableFrom(ArrayList.class); // true
boolean numberFromInteger = Number.class.isAssignableFrom(Integer.class); // true
boolean integerFromNumber = Integer.class.isAssignableFrom(Number.class); // false
```

–ö–∞–∫ —á–∏—Ç–∞—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ `A.isAssignableFrom(B)`:

> ¬´–ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ B –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∏–ø–∞ A?¬ª

---

## 5.3. –ó–∞—á–µ–º –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏ —Ç–∏–ø—ã

–ê–Ω–∞–ª–∏–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è:

- –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–µ—Ç–æ–¥–æ–≤ –∏ –ø–æ–ª–µ–π,
- –≤—ã–±–æ—Ä–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞,
- –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–Ω—ä–µ–∫—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π,
- –∞–Ω–∞–ª–∏–∑–∞ API –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–ª–∞—Å—Å–æ–≤.

–ê–Ω–∞–ª–∏–∑ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è:

- –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è,
- –ø–æ–∏—Å–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤,
- –≤—ã–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤,
- –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–æ–≤ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Ç–∏–ø–æ–≤.

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –º–µ—Ç–æ–¥–∞ –∏–ª–∏ –ø–æ–ª—è —á–µ—Ä–µ–∑ Reflection?
2. –ö–∞–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∞ `Modifier`?
3. –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –≤—ã–∑–æ–≤ `A.isAssignableFrom(B)`?
4. –ü–æ—á–µ–º—É –∞–Ω–∞–ª–∏–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –≤–∞–∂–µ–Ω –¥–ª—è DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤?

</details>

## 6. Generics

Reflection –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Å –æ–±—ã—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏, –Ω–æ –∏ —Å **–º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ generics** ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–∏–ø–∞—Ö, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ.  
–û–¥–Ω–∞–∫–æ –≤–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: **–¥–∂–µ–Ω–µ—Ä–∏–∫–∏ –≤ Java —Å—Ç–∏—Ä–∞—é—Ç—Å—è (type erasure)**, –ø–æ—ç—Ç–æ–º—É JVM –Ω–µ —Ö—Ä–∞–Ω–∏—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.  
–ß–µ—Ä–µ–∑ Reflection –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ generics, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–ø–∏—Å–∞–Ω–∞ –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞—Ö –ø–æ–ª–µ–π, –º–µ—Ç–æ–¥–æ–≤ –∏ –∫–ª–∞—Å—Å–æ–≤.

---

## 6.1. –ß—Ç–æ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –æ generics —á–µ—Ä–µ–∑ Reflection

–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø:

> **Reflection –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä —Ç–∏–ø–∞ —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ –æ–Ω —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ.**

–¢–æ –µ—Å—Ç—å:
- —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –ø–æ–ª–µ–π –∏ –º–µ—Ç–æ–¥–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–∏–ø–∞, –∏ –∏—Ö –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å,
- –Ω–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –æ–±—ä–µ–∫—Ç `List<Long>` –∏ `List<String>` –≤ —Ä–∞–Ω—Ç–∞–π–º–µ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∫–ª–∞—Å—Å (`java.util.ArrayList`).

---

## 6.2. –ü—Ä–∏–º–µ—Ä –∫–ª–∞—Å—Å–∞ —Å generics

```java
public class Card {
    private final String cardNumber;
    private BigDecimal balance;
    private final List<Long> usersWithAccess;

    public Card(String cardNumber, List<Long> usersWithAccess) {
        // some code
    }

    public void grantAccess(List<Long> userIds) {
        this.usersWithAccess.addAll(userIds);
    }
}
```

---

## 6.3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø–æ–ª—è —Å generics

```java
Field field = Card.class.getDeclaredField("usersWithAccess");

Type genericType = field.getGenericType();  // java.util.List<java.lang.Long>
Class<?> type = field.getType();            // interface java.util.List
```

### –†–∞–∑–Ω–∏—Ü–∞:

| –ú–µ—Ç–æ–¥              | –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç                                |
|--------------------|-----------------------------------------------|
| `getType()`        | —Å—Ç—ë—Ä—Ç—ã–π —Ç–∏–ø (`List`)                          |
| `getGenericType()` | –∏—Å—Ö–æ–¥–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–∏–ø (`List<Long>`) |

---

## 6.4. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç–∏–ø–æ–≤ –º–µ—Ç–æ–¥–∞

```java
Method method = Card.class.getMethod("grantAccess", List.class);

Type[] genericTypes = method.getGenericParameterTypes(); // [java.util.List<java.lang.Long>]

Class<?>[] types = method.getParameterTypes(); // [interface java.util.List]
```

### –í—ã–≤–æ–¥:

- `getParameterTypes()` ‚Üí –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ—Å–ª–µ —Å—Ç–∏—Ä–∞–Ω–∏—è —Ç–∏–ø–æ–≤
- `getGenericParameterTypes()` ‚Üí –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

---

## 6.5. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–∏–ø–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–ª–∞—Å—Å—ã –≤ Java —Å–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏, —Ç–æ –µ—Å—Ç—å –æ–±—ä—è–≤–ª–µ–Ω—ã —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ç–∏–ø–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```java
public class ArrayList<E> implements List<E> { ‚Ä¶ }
```

–≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ Reflection:

```java
TypeVariable<Class<?>>[] params = ArrayList.class.getTypeParameters(); // [E]
```

–¢–æ –µ—Å—Ç—å Reflection –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–∞–º —Ñ–∞–∫—Ç –Ω–∞–ª–∏—á–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ç–∏–ø–∞ (`E`), –Ω–æ –Ω–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ç–∏–ø, –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ (`String`, `Long`, –∏ —Ç.–¥.), ‚Äî –∏–∑-–∑–∞ —Å—Ç–∏—Ä–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ.

---

## 6.6. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: —Å—Ç–∏—Ä–∞–Ω–∏–µ —Ç–∏–ø–æ–≤

–ü–æ—Å–ª–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –¥–∂–µ–Ω–µ—Ä–∏–∫–∏ **–Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç** –∫–∞–∫ —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã:

```java
List<String> s = new ArrayList<>();
List<Integer> i = new ArrayList<>();

s.getClass() == i.getClass();  // true
```

–ü—Ä–∏—á–∏–Ω—ã —Å—Ç–∏—Ä–∞–Ω–∏—è:
- –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ —Å—Ç–∞—Ä—ã–º Java-–∫–æ–¥–æ–º,
- —É–ø—Ä–æ—â–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ —Ç–∏–ø–æ–≤ –¥–ª—è JVM.

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ü–æ—á–µ–º—É –≤ Java —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å—Ç–∏—Ä–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –∏ —á—Ç–æ –æ–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç?
2. –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã `getType()` –∏ `getGenericType()`?
3. –ú–æ–∂–Ω–æ –ª–∏ —É–∑–Ω–∞—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Ç–∏–ø–∞ —É –æ–±—ä–µ–∫—Ç–∞ `List<T>` –≤ —Ä–∞–Ω—Ç–∞–π–º–µ? –ü–æ—á–µ–º—É?
4. –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `getGenericParameterTypes()`?
5. –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —Ç–∏–ø–∞ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —É –∫–ª–∞—Å—Å–æ–≤ –≤—Ä–æ–¥–µ `ArrayList<E>`?

</details>

## 7. –†–∞–±–æ—Ç–∞ —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏

Reflection –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—á–∏—Ç—ã–≤–∞—Ç—å –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.  
–≠—Ç–æ –∫–ª—é—á–µ–≤–æ–π –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, ORM, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤ –∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π.

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ Reflection **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏** –æ–Ω–∞ –ø–æ–º–µ—á–µ–Ω–∞:

```java
@Retention(RetentionPolicy.RUNTIME)
public @interface Marker {}
```

---

## 7.1. RetentionPolicy.RUNTIME

–ü–æ–ª–∏—Ç–∏–∫–∞ —É–¥–µ—Ä–∂–∞–Ω–∏—è (retention policy) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, *–∫–∞–∫ –¥–æ–ª–≥–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è*:

| –ü–æ–ª–∏—Ç–∏–∫–∞  | –ì–¥–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç        | –î–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ Reflection   |
|-----------|-----------------------|-----------------------------|
| `SOURCE`  | —Ç–æ–ª—å–∫–æ –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö   | ‚ùå –Ω–µ—Ç                       |
| `CLASS`   | –≤ .class —Ñ–∞–π–ª–µ        | ‚ùå –Ω–µ—Ç                       |
| `RUNTIME` | –≤ .class –∏ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ | ‚úÖ –¥–∞                        |

---

## 7.2. –ú–µ—Ç–æ–¥—ã Reflection –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏

| –ú–µ—Ç–æ–¥                                              | –û–ø–∏—Å–∞–Ω–∏–µ                                             |
|----------------------------------------------------|------------------------------------------------------|
| `Annotation[] getAnnotations()`                    | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, –≤–∫–ª—é—á–∞—è —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ     |
| `Annotation[] getDeclaredAnnotations()`            | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, –æ–±—ä—è–≤–ª—ë–Ω–Ω—ã–µ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ |
| `<A extends Annotation> A getAnnotation(Class<A>)` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é                      |
| `boolean isAnnotationPresent(Class<?>)`            | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏                          |

–ü—Ä–∏–º–µ—Ä:

```java
@Retention(RetentionPolicy.RUNTIME)
public @interface Marker {}

@Retention(RetentionPolicy.RUNTIME)
@Inherited
public @interface InheritedMarker {}

@Marker
@InheritedMarker
class A {}

class B extends A {}
```

–ü—Ä–æ–≤–µ—Ä–∫–∞:

```java
A.class.isAnnotationPresent(Marker.class);          // true
A.class.isAnnotationPresent(InheritedMarker.class); // true

B.class.isAnnotationPresent(Marker.class);          // false
B.class.isAnnotationPresent(InheritedMarker.class); // true
```

---

## 7.3. –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –Ω–∞ —Ç–∏–ø–∞—Ö –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö (TYPE_USE)

### –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç `@Target(ElementType.TYPE_USE)`

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å:

- —Ç–∏–ø –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –º–µ—Ç–æ–¥–∞,
- —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è,
- –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–∏–ø–∞ (`List<@Marker String>`),
- –º–∞—Å—Å–∏–≤—ã,
- –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ,
- –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤.

–ü—Ä–∏–º–µ—Ä –æ–±—ä—è–≤–ª–µ–Ω–∏—è:

```java
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.TYPE_USE)
public @interface Marker {}
```

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:

```java
public class Card {

    public void deposit(@Marker BigDecimal amount) {}

    @Marker
    public BigDecimal getBalance() {
        return BigDecimal.ZERO;
    }
}
```

---

## 7.3.1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–µ—Ç–æ–¥–∞

```java
Method deposit = Card.class.getDeclaredMethod("deposit", BigDecimal.class);

AnnotatedType[] paramTypes = deposit.getAnnotatedParameterTypes();

for (var type : paramTypes) {
    System.out.println(type);
}
```

–í—ã–≤–æ–¥:

```
@Marker() java.math.BigDecimal
```

---

## 7.3.2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ç–∏–ø–∞

```java
Method getBalance = Card.class.getDeclaredMethod("getBalance");

AnnotatedType returnType = getBalance.getAnnotatedReturnType();

System.out.println(returnType);
```

–í—ã–≤–æ–¥:

```
@Marker() java.math.BigDecimal
```

---

## 7.4. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π

```java
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.TYPE_USE)
public @interface Marker {
    String value() default "Example";
}
```

–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```java
Method getBalance = Card.class.getDeclaredMethod("getBalance");

AnnotatedType returnType = getBalance.getAnnotatedReturnType();

Marker marker = returnType.getAnnotation(Marker.class);

System.out.println(marker.value());
```

–í—ã–≤–æ–¥:

```
Example
```

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –ü–æ—á–µ–º—É –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å `RetentionPolicy.RUNTIME`, —á—Ç–æ–±—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ–π —á–µ—Ä–µ–∑ Reflection?
2. –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è `getAnnotations()` –∏ `getDeclaredAnnotations()`?
3. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º `@Inherited` –∏ –Ω–∞ –∫–∞–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ–Ω **–Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è**?
4. –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç `ElementType.TYPE_USE` –∏ –∫–∞–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–Ω –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç?
5. –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –º–µ—Ç–æ–¥–∞ –∏ –Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º —Ç–∏–ø–µ?
6. –ö–∞–∫ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Reflection?

</details>

# 8. MethodHandles

`MethodHandles` ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–∑–æ–≤–∞ –≤ Java ‚Äî –±–æ–ª–µ–µ **–±—ã—Å—Ç—Ä—ã–π**, **—Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π** –∏ **–ª—É—á—à–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º—ã–π JIT-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º**, —á–µ–º –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π Reflection.

–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å MethodHandles ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∏ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø–æ–ª—è–º.  
–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Reflection, –æ–Ω–∏ **–Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–ª–∞—Å—Å–∞** (–ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤, –ø–æ–ª–µ–π, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π).

MethodHandles –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã –≤ —Ç–µ—Ö —Å–ª—É—á–∞—è—Ö, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤ –≤ **—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ö –∫–æ–¥–∞ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π**, –≥–¥–µ –≤–∞–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

---

## 8.1. Lookup: —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ MethodHandles

–†–∞–±–æ—Ç–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –æ–±—ä–µ–∫—Ç–∞ `MethodHandles.Lookup`:

```java
MethodHandles.Lookup lookup = MethodHandles.lookup();
```

–û–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:

- –≥–¥–µ –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –º–µ—Ç–æ–¥—ã / –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã / –ø–æ–ª—è,
- –∫–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–µ–π—Å—Ç–≤—É—é—Ç,
- –º–æ–∂–Ω–æ –ª–∏ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º —á–ª–µ–Ω–∞–º (–µ—Å–ª–∏ —ç—Ç–æ —Ç–æ—Ç –∂–µ –∫–ª–∞—Å—Å).

---

## 8.2. –ü–æ–∏—Å–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤

### –ü–æ–∏—Å–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ (`findVirtual`)

```java
MethodHandles.Lookup lookup = MethodHandles.lookup();

MethodHandle printCardNumber = lookup.findVirtual(
    Card.class,
    "printCardNumber",
    MethodType.methodType(void.class)
);

Card instance = new Card("1234");
printCardNumber.invokeExact(instance);
```

---

### –ü–æ–∏—Å–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞ (`findStatic`)

```java
MethodHandles.Lookup lookup = MethodHandles.lookup();

MethodHandle logMethod = lookup.findStatic(
    Utils.class,
    "log",
    MethodType.methodType(void.class, String.class)
);

logMethod.invokeExact("Hello");
```

---

## 8.3. –ü–æ–∏—Å–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ `findConstructor`

```java
MethodHandles.Lookup lookup = MethodHandles.lookup();

MethodHandle constructor = lookup.findConstructor(
    Card.class,
    MethodType.methodType(void.class, String.class)
);

Card instance = (Card) constructor.invokeExact("1234");
```

---

## 8.4. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Reflection –∏ MethodHandles –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∏ —Ä–∞–Ω–µ–µ

### –ß–µ—Ä–µ–∑ Reflection:

```java
Constructor<Card> constructor = Card.class.getConstructor(String.class);
Method method = Card.class.getMethod("printCardNumber");

Card instance = constructor.newInstance("1234");
method.invoke(instance);
```

### –ß–µ—Ä–µ–∑ MethodHandles:

```java
MethodHandles.Lookup lookup = MethodHandles.lookup();

MethodHandle constructor = lookup.findConstructor(
    Card.class,
    MethodType.methodType(void.class, String.class)
);

MethodHandle printCardNumber = lookup.findVirtual(
    Card.class,
    "printCardNumber",
    MethodType.methodType(void.class)
);

Card instance = (Card) constructor.invokeExact("1234");
printCardNumber.invokeExact(instance);
```

**–í—ã–≤–æ–¥:**

- –æ–±–∞ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–æ–∑–≤–æ–ª—è—é—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –∏ –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥;
- Reflection –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ—â—ë –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (—Å–ø–∏—Å–∫–∏ –º–µ—Ç–æ–¥–æ–≤, –ø–æ–ª–µ–π –∏ —Ç.–¥.);
- MethodHandles –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–∏, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.

---

## 8.5. MethodHandles vs Reflection

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞                                 | Reflection            | MethodHandles               |
|------------------------------------------------|-----------------------|-----------------------------|
| –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–º–µ—Ç–æ–¥—ã, –ø–æ–ª—è, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏) | ‚úÖ –¥–∞                  | ‚ùå –Ω–µ—Ç                       |
| –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤                             | ‚úÖ –¥–∞                  | ‚úÖ –¥–∞                        |
| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è JIT                                | —Ö—É–∂–µ                  | –ª—É—á—à–µ                       |
| –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å                               | —Å–ª–∞–±–µ–µ                | —Å–∏–ª—å–Ω–µ–µ                     |
| –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞                               | —á–µ—Ä–µ–∑ `setAccessible` | —á–µ—Ä–µ–∑ `Lookup`              |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ                                  | –∏–Ω—Å–ø–µ–∫—Ü–∏—è, –∞–Ω–∞–ª–∏–∑     | –±—ã—Å—Ç—Ä—ã–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –≤—ã–∑–æ–≤—ã |

---

<details>
  <summary>üìí –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</summary>

1. –í —á—ë–º –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ MethodHandles –æ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ Reflection?
2. –ó–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç `MethodHandles.Lookup`?
3. –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è `findVirtual` –∏ `findStatic`?
4. –ö–∞–∫ –≤—ã–∑–≤–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ —Å –ø–æ–º–æ—â—å—é MethodHandles?
5. –í –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö MethodHandles –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ Reflection?

</details>





